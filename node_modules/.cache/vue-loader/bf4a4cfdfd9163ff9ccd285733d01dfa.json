{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\charts\\TemperatureChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\charts\\TemperatureChart.vue","mtime":1592248188514},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJw0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KDQppbXBvcnQgaTE4biBmcm9tICcuLi8uLi9pMThuJw0KaW1wb3J0IHsgZGVmYXVsdE1hY2hpbmUgfSBmcm9tICcuLi8uLi9zdG9yZS9tYWNoaW5lJw0KaW1wb3J0IHsgZ2V0UmVhbEhlYXRlckNvbG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sb3JzLmpzJw0KDQpjb25zdCBzYW1wbGVJbnRlcnZhbCA9IDEwMDAJCQkvLyBtcw0KY29uc3QgZGVmYXVsdE1heFRlbXBlcmF0dXJlID0gMzAwCS8vIGRlZ0MNCmNvbnN0IG1heFNhbXBsZVRpbWUgPSA2MDAwMDAJCS8vIDEwbWluIChpbiBtcykNCg0KZnVuY3Rpb24gbWFrZURhdGFzZXQoaW5kZXgsIGV4dHJhLCBsYWJlbCwgbnVtU2FtcGxlcykgew0KCWNvbnN0IGNvbG9yID0gZ2V0UmVhbEhlYXRlckNvbG9yKGluZGV4LCBleHRyYSksIGRhdGFzZXQgPSB7DQoJCWluZGV4LA0KCQlleHRyYSwNCgkJbGFiZWwsDQoJCWZpbGw6IGZhbHNlLA0KCQliYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLA0KCQlib3JkZXJDb2xvcjogY29sb3IsDQoJCWJvcmRlckRhc2g6IGV4dHJhID8gWzEwLCA1XSA6IHVuZGVmaW5lZCwNCgkJYm9yZGVyV2lkdGg6IDIsDQoJCWRhdGE6IFtdLA0KCQlsb2NhbGU6IGkxOG4ubG9jYWxlLA0KCQlwb2ludFJhZGl1czogMCwNCgkJcG9pbnRIaXRSYWRpdXM6IDAsDQoJCXNob3dMaW5lOiB0cnVlDQoJfTsNCglkYXRhc2V0LmRhdGEgPSAobmV3IEFycmF5KG51bVNhbXBsZXMpKS5maWxsKE5hTik7DQoJcmV0dXJuIGRhdGFzZXQ7DQp9DQoNCmNvbnN0IHRlbXBTYW1wbGVzID0gew0KCVtkZWZhdWx0TWFjaGluZV06IHsNCgkJdGltZXM6IFtdLA0KCQl0ZW1wczogW10NCgl9DQp9DQoNCmZ1bmN0aW9uIHB1c2hTZXJpZXNEYXRhKG1hY2hpbmUsIGluZGV4LCBleHRyYSwgc2Vuc29yKSB7DQoJLy8gR2V0IHNlcmllcyBmcm9tIGRhdGFzZXQNCgljb25zdCBtYWNoaW5lRGF0YSA9IHRlbXBTYW1wbGVzW21hY2hpbmVdOw0KCWxldCBkYXRhc2V0ID0gbWFjaGluZURhdGEudGVtcHMuZmluZChmdW5jdGlvbihpdGVtKSB7DQoJCWlmIChpdGVtLmluZGV4ID09PSBpbmRleCAmJiBpdGVtLmV4dHJhID09PSBleHRyYSkgew0KCQkJcmV0dXJuIGl0ZW07DQoJCX0NCgl9KTsNCg0KCS8vIENoZWNrIGlmIHRoZSBkYXRhc2V0IGhhcyB0byBiZSBjcmVhdGVkIGZpcnN0DQoJaWYgKCFkYXRhc2V0IHx8IGRhdGFzZXQubG9jYWxlICE9PSBpMThuLmxvY2FsZSB8fCBkYXRhc2V0LnJhd0xhYmVsICE9PSBzZW5zb3IubmFtZSkgew0KCQlsZXQgbmFtZTsNCgkJaWYgKHNlbnNvci5uYW1lKSB7DQoJCQljb25zdCBtYXRjaGVzID0gLyguKilcWyguKilcXSQvLmV4ZWMoc2Vuc29yLm5hbWUpOw0KCQkJbmFtZSA9IG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogc2Vuc29yLm5hbWU7DQoJCX0gZWxzZSB7DQoJCQluYW1lID0gaTE4bi50KCdjaGFydC50ZW1wZXJhdHVyZS5oZWF0ZXInLCBbaW5kZXhdKTsNCgkJfQ0KDQoJCWlmIChkYXRhc2V0KSB7DQoJCQlkYXRhc2V0LnJhd0xhYmVsID0gc2Vuc29yLm5hbWU7DQoJCQlkYXRhc2V0LmxhYmVsID0gbmFtZTsNCgkJCWRhdGFzZXQubG9jYWxlID0gaTE4bi5sb2NhbGU7DQoJCX0gZWxzZSB7DQoJCQlkYXRhc2V0ID0gbWFrZURhdGFzZXQoaW5kZXgsIGV4dHJhLCBuYW1lLCB0ZW1wU2FtcGxlc1ttYWNoaW5lXS50aW1lcy5sZW5ndGgpOw0KCQkJbWFjaGluZURhdGEudGVtcHMucHVzaChkYXRhc2V0KTsNCgkJfQ0KCX0NCg0KCS8vIEFkZCBuZXcgc2FtcGxlDQoJZGF0YXNldC5kYXRhLnB1c2goc2Vuc29yLmxhc3RSZWFkaW5nKTsNCn0NCg0KbGV0IHN0b3JlU3Vic2NyaWJlZCA9IGZhbHNlLCBpbnN0YW5jZXMgPSBbXQ0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwU3RhdGUoWydzZWxlY3RlZE1hY2hpbmUnXSksDQoJCS4uLm1hcEdldHRlcnMoWydpc0Nvbm5lY3RlZCddKSwNCgkJLi4ubWFwR2V0dGVycygnbWFjaGluZScsIFsnaGFzVGVtcGVyYXR1cmVzVG9EaXNwbGF5J10pLA0KCQkuLi5tYXBHZXR0ZXJzKCdtYWNoaW5lL21vZGVsJywgWydtYXhIZWF0ZXJUZW1wZXJhdHVyZSddKSwNCgkJLi4ubWFwU3RhdGUoJ21hY2hpbmUvbW9kZWwnLCBbJ2hlYXQnXSksDQoJCS4uLm1hcFN0YXRlKCdtYWNoaW5lL3NldHRpbmdzJywgWydkaXNwbGF5ZWRFeHRyYVRlbXBlcmF0dXJlcyddKSwNCgkJLi4ubWFwU3RhdGUoJ3NldHRpbmdzJywgWydkYXJrVGhlbWUnXSkNCgl9LA0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQljaGFydDogbnVsbCwNCgkJCXBhdXNlVXBkYXRlOiBmYWxzZQ0KCQl9DQoJfSwNCgltZXRob2RzOiB7DQoJCXVwZGF0ZSgpIHsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnlBeGVzWzBdLnRpY2tzLm1heCA9IHRoaXMubWF4SGVhdGVyVGVtcGVyYXR1cmUgfHwgZGVmYXVsdE1heFRlbXBlcmF0dXJlOw0KCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueEF4ZXNbMF0udGlja3MubWluID0gbmV3IERhdGUoKSAtIG1heFNhbXBsZVRpbWU7DQoJCQl0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNjYWxlcy54QXhlc1swXS50aWNrcy5tYXggPSBuZXcgRGF0ZSgpOw0KCQkJdGhpcy5jaGFydC51cGRhdGUoKTsNCgkJfSwNCgkJYXBwbHlEYXJrVGhlbWUoYWN0aXZlKSB7DQoJCQljb25zdCBsZWdlbmRDb2xvciA9IGFjdGl2ZSA/ICcjRkZGJyA6ICdyZ2JhKDAsMCwwLDAuODcpJzsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMubGVnZW5kLmxhYmVscy5mb250Q29sb3IgPSBsZWdlbmRDb2xvcjsNCg0KCQkJY29uc3QgdGlja3NDb2xvciA9IGFjdGl2ZSA/ICcjRkZGJyA6ICcjNjY2JzsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1ham9yLmZvbnRDb2xvciA9IHRpY2tzQ29sb3I7DQoJCQl0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNjYWxlcy54QXhlc1swXS50aWNrcy5taW5vci5mb250Q29sb3IgPSB0aWNrc0NvbG9yOw0KCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0udGlja3MubWFqb3IuZm9udENvbG9yID0gdGlja3NDb2xvcjsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnlBeGVzWzBdLnRpY2tzLm1pbm9yLmZvbnRDb2xvciA9IHRpY2tzQ29sb3I7DQoNCgkJCWNvbnN0IGdyaWRMaW5lQ29sb3IgPSBhY3RpdmUgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjE1KScgOiAncmdiYSgwLDAsMCwwLjE1KSc7DQoJCQl0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNjYWxlcy54QXhlc1swXS5ncmlkTGluZXMuY29sb3IgPSBncmlkTGluZUNvbG9yOw0KCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0uZ3JpZExpbmVzLmNvbG9yID0gZ3JpZExpbmVDb2xvcjsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnlBeGVzWzBdLmdyaWRMaW5lcy56ZXJvTGluZUNvbG9yID0gZ3JpZExpbmVDb2xvcjsNCg0KCQkJdGhpcy5jaGFydC51cGRhdGUoKTsNCgkJfQ0KCX0sDQoJbW91bnRlZCgpIHsNCgkJLy8gQ3JlYXRlIG5ldyBjaGFydCBvcHRpb25zLiBEb24ndCB1c2UgZGF0YSBmb3IgdGhlIGZvbGxvd2luZyBiZWNhdXNlIGl0IHNob3VsZCBub3QgYmUgcmVhY3RpdmUNCgkJdGhpcy5vcHRpb25zID0gew0KCQkJYW5pbWF0aW9uOiB7DQoJCQkJZHVyYXRpb246IDAJCQkJCS8vIGdlbmVyYWwgYW5pbWF0aW9uIHRpbWUNCgkJCX0sDQoJCQllbGVtZW50czogew0KCQkJCWxpbmU6IHsNCgkJCQkJdGVuc2lvbjogMAkJCQkvLyBkaXNhYmxlIGJlemllciBjdXJ2ZXMNCgkJCQl9DQoJCQl9LA0KCQkJbGVnZW5kOiB7DQoJCQkJbGFiZWxzOiB7DQoJCQkJCWZpbHRlcjogKGxlZ2VuZEl0ZW0sIGRhdGEpID0+IGRhdGEuZGF0YXNldHNbbGVnZW5kSXRlbS5kYXRhc2V0SW5kZXhdLnNob3dMaW5lLA0KCQkJCQlmb250RmFtaWx5OiAnUm9ib3RvLHNhbnMtc2VyaWYnDQoJCQkJfQ0KCQkJfSwNCgkJCW1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLA0KCQkJcmVzcG9uc2l2ZTogdHJ1ZSwNCgkJCXJlc3BvbnNpdmVBbmltYXRpb25EdXJhdGlvbjogMCwgLy8gYW5pbWF0aW9uIGR1cmF0aW9uIGFmdGVyIGEgcmVzaXplDQoJCQlzY2FsZXM6IHsNCgkJCQl4QXhlczogWw0KCQkJCQl7DQoJCQkJCQlncmlkTGluZXM6IHsNCgkJCQkJCQljb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScsDQoJCQkJCQkJZGlzcGxheTogdHJ1ZQ0KCQkJCQkJfSwNCgkJCQkJCXRpY2tzOiB7DQoJCQkJCQkJbWluOiBuZXcgRGF0ZSgpIC0gbWF4U2FtcGxlVGltZSwNCgkJCQkJCQltYXg6IG5ldyBEYXRlKCksDQoJCQkJCQkJbWlub3I6IHsNCgkJCQkJCQkJZm9udENvbG9yOiAncmdiYSgwLDAsMCwwLjg3KScsDQoJCQkJCQkJCWZvbnRGYW1pbHk6ICdSb2JvdG8sc2Fucy1zZXJpZicNCgkJCQkJCQl9LA0KCQkJCQkJCW1ham9yOiB7DQoJCQkJCQkJCWZvbnRDb2xvcjogJ3JnYmEoMCwwLDAsMC44NyknLA0KCQkJCQkJCQlmb250RmFtaWx5OiAnUm9ib3RvLHNhbnMtc2VyaWYnDQoJCQkJCQkJfQ0KCQkJCQkJfSwNCgkJCQkJCXRpbWU6IHsNCgkJCQkJCQl1bml0OiAnbWludXRlJywNCgkJCQkJCQlkaXNwbGF5Rm9ybWF0czogew0KCQkJCQkJCQltaW51dGU6ICdISDptbScNCgkJCQkJCQl9DQoJCQkJCQl9LA0KCQkJCQkJdHlwZTogJ3RpbWUnLA0KCQkJCQl9DQoJCQkJXSwNCgkJCQl5QXhlczogWw0KCQkJCQl7DQoJCQkJCQlncmlkTGluZXM6IHsNCgkJCQkJCQljb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScsDQoJCQkJCQkJemVyb0xpbmVDb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScsDQoJCQkJCQkJZGlzcGxheTogdHJ1ZQ0KCQkJCQkJfSwNCgkJCQkJCXRpY2tzOiB7DQoJCQkJCQkJbWlub3I6IHsNCgkJCQkJCQkJZm9udENvbG9yOiAnIzY2NicsDQoJCQkJCQkJCWZvbnRGYW1pbHk6ICdSb2JvdG8sc2Fucy1zZXJpZicNCgkJCQkJCQl9LA0KCQkJCQkJCW1ham9yOiB7DQoJCQkJCQkJCWZvbnRDb2xvcjogJyM2NjYnLA0KCQkJCQkJCQlmb250RmFtaWx5OiAnUm9ib3RvLHNhbnMtc2VyaWYnDQoJCQkJCQkJfSwNCgkJCQkJCQltaW46IDAsDQoJCQkJCQkJbWF4OiBkZWZhdWx0TWF4VGVtcGVyYXR1cmUsDQoJCQkJCQkJc3RlcFNpemU6IDUwDQoJCQkJCQl9DQoJCQkJCX0NCgkJCQldDQoJCQl9DQoJCX07DQoNCgkJLy8gQ3JlYXRlIHRoZSBkYXRhc2V0IGlmIG5lY2Vzc2FyeQ0KCQlpZiAodGVtcFNhbXBsZXNbdGhpcy5zZWxlY3RlZE1hY2hpbmVdID09PSB1bmRlZmluZWQpIHsNCgkJCXRlbXBTYW1wbGVzW3RoaXMuc2VsZWN0ZWRNYWNoaW5lXSA9IHsNCgkJCQl0aW1lczogW10sDQoJCQkJdGVtcHM6IFtdDQoJCQl9Ow0KCQl9DQoNCgkJLy8gQ3JlYXRlIHRoZSBjaGFydA0KCQl0aGlzLmNoYXJ0ID0gQ2hhcnQuTGluZSh0aGlzLiRyZWZzLmNoYXJ0LCB7DQoJCQlvcHRpb25zOiB0aGlzLm9wdGlvbnMsDQoJCQlkYXRhOiB7DQoJCQkJbGFiZWxzOiB0ZW1wU2FtcGxlc1t0aGlzLnNlbGVjdGVkTWFjaGluZV0udGltZXMsDQoJCQkJZGF0YXNldHM6IHRlbXBTYW1wbGVzW3RoaXMuc2VsZWN0ZWRNYWNoaW5lXS50ZW1wcw0KCQkJfQ0KCQl9KTsNCgkJdGhpcy5hcHBseURhcmtUaGVtZSh0aGlzLmRhcmtUaGVtZSk7DQoNCgkJLy8gS2VlcCB0cmFjayBvZiB1cGRhdGVzDQoJCWluc3RhbmNlcy5wdXNoKHRoaXMpOw0KCQlpZiAoIXN0b3JlU3Vic2NyaWJlZCkgew0KCQkJdGhpcy4kc3RvcmUuc3Vic2NyaWJlKChtdXRhdGlvbiwgc3RhdGUpID0+IHsNCgkJCQlpZiAobXV0YXRpb24udHlwZSA9PT0gJ2FkZE1hY2hpbmUnKSB7DQoJCQkJCS8vIE1hY2hpbmUgaGFzIGJlZW4gYWRkZWQNCgkJCQkJdGVtcFNhbXBsZXNbbXV0YXRpb24ucGF5bG9hZC5ob3N0bmFtZV0gPSB7DQoJCQkJCQl0aW1lczogW10sDQoJCQkJCQl0ZW1wczogW10NCgkJCQkJfTsNCgkJCQl9IGVsc2UgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdyZW1vdmVNYWNoaW5lJykgew0KCQkJCQkvLyBNYWNoaW5lIGhhcyBiZWVuIHJlbW92ZWQNCgkJCQkJZGVsZXRlIHRlbXBTYW1wbGVzW211dGF0aW9uLnBheWxvYWRdOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWNvbnN0IHJlc3VsdCA9IC9tYWNoaW5lc1wvKC4rKVwvbW9kZWxcL3VwZGF0ZS8uZXhlYyhtdXRhdGlvbi50eXBlKTsNCgkJCQkJaWYgKHJlc3VsdCkgew0KCQkJCQkJLy8gTmV3IGRhdGEgcmVjZWl2ZWQNCgkJCQkJCWNvbnN0IG1hY2hpbmUgPSByZXN1bHRbMV0sIGRhdGFzZXQgPSB0ZW1wU2FtcGxlc1ttYWNoaW5lXSwgbm93ID0gbmV3IERhdGUoKTsNCgkJCQkJCWlmIChkYXRhc2V0LnRpbWVzLmxlbmd0aCA9PT0gMCB8fCBub3cgLSBkYXRhc2V0LnRpbWVzW2RhdGFzZXQudGltZXMubGVuZ3RoIC0gMV0gPiBzYW1wbGVJbnRlcnZhbCkgew0KCQkJCQkJCS8vIFJlY29yZCBzZW5zb3IgdGVtcGVyYXR1cmVzDQoJCQkJCQkJc3RhdGUubWFjaGluZXNbbWFjaGluZV0ubW9kZWwuc2Vuc29ycy5hbmFsb2cuZm9yRWFjaChmdW5jdGlvbihzZW5zb3IsIHNlbnNvckluZGV4KSB7DQoJCQkJCQkJCWlmIChzZW5zb3IpIHsNCgkJCQkJCQkJCWNvbnN0IGhlYXRlckluZGV4ID0gc3RhdGUubWFjaGluZXNbbWFjaGluZV0ubW9kZWwuaGVhdC5oZWF0ZXJzLmZpbmRJbmRleChoZWF0ZXIgPT4gaGVhdGVyICYmIGhlYXRlci5zZW5zb3IgPT09IHNlbnNvckluZGV4KTsNCgkJCQkJCQkJCWlmIChoZWF0ZXJJbmRleCAhPT0gLTEpIHsNCgkJCQkJCQkJCQlwdXNoU2VyaWVzRGF0YShtYWNoaW5lLCBoZWF0ZXJJbmRleCwgZmFsc2UsIHNlbnNvcik7DQoJCQkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQkJCXB1c2hTZXJpZXNEYXRhKG1hY2hpbmUsIHNlbnNvckluZGV4LCB0cnVlLCBzZW5zb3IpOw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfSk7DQoNCgkJCQkJCQkvLyBSZWNvcmQgdGltZSBhbmQgZGVhbCB3aWggZXhwaXJlZCB0ZW1wZXJhdHVyZSBzYW1wbGVzDQoJCQkJCQkJd2hpbGUgKGRhdGFzZXQudGltZXMubGVuZ3RoICYmIG5vdyAtIGRhdGFzZXQudGltZXNbMF0gPiBtYXhTYW1wbGVUaW1lKSB7DQoJCQkJCQkJCWRhdGFzZXQudGltZXMuc2hpZnQoKTsNCgkJCQkJCQkJZGF0YXNldC50ZW1wcy5mb3JFYWNoKGRhdGEgPT4gZGF0YS5kYXRhLnNoaWZ0KCkpOw0KCQkJCQkJCX0NCgkJCQkJCQlkYXRhc2V0LnRpbWVzLnB1c2gobm93KTsNCg0KCQkJCQkJCS8vIERlYWwgd2l0aCB2aXNpYmlsaXR5IGFuZCB0ZWxsIGNoYXJ0IGluc3RhbmNlcyB0byB1cGRhdGUNCgkJCQkJCQlkYXRhc2V0LnRlbXBzLmZvckVhY2goZnVuY3Rpb24oZGF0YXNldCkgew0KCQkJCQkJCQlkYXRhc2V0LnNob3dMaW5lID0gIWRhdGFzZXQuZXh0cmEgfHwgKHRoaXMuZGlzcGxheWVkRXh0cmFUZW1wZXJhdHVyZXMuaW5kZXhPZihkYXRhc2V0LmluZGV4KSAhPT0gLTEpOw0KCQkJCQkJCX0sIHRoaXMpOw0KCQkJCQkJCWluc3RhbmNlcy5mb3JFYWNoKGluc3RhbmNlID0+IGluc3RhbmNlLnVwZGF0ZSgpKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOw0KCQkJc3RvcmVTdWJzY3JpYmVkID0gdHJ1ZTsNCgkJfQ0KCX0sDQoJYmVmb3JlRGVzdHJveSgpIHsNCgkJLy8gRG9uJ3QgdXBkYXRlIHRoaXMgaW5zdGFuY2UgYW55IG1vcmUuLi4NCgkJaW5zdGFuY2VzID0gaW5zdGFuY2VzLmZpbHRlcihpbnN0YW5jZSA9PiBpbnN0YW5jZSAhPT0gdGhpcywgdGhpcyk7DQoJfSwNCgl3YXRjaDogew0KCQlkYXJrVGhlbWUodG8pIHsNCgkJCXRoaXMuYXBwbHlEYXJrVGhlbWUodG8pOw0KCQl9LA0KCQlzZWxlY3RlZE1hY2hpbmUobWFjaGluZSkgew0KCQkJLy8gRWFjaCBjaGFydCBpbnN0YW5jZSBpcyBmaXhlZCB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIG1hY2hpbmUNCgkJCS8vIFJlYXNzaWduIHRoZSBjb3JyZXNwb25kaW5nIGRhdGFzZXQgd2hlbmV2ZXIgdGhlIHNlbGVjdGVkIG1hY2hpbmUgY2hhbmdlcw0KCQkJdGhpcy5jaGFydC5jb25maWcuZGF0YSA9IHsNCgkJCQlsYWJlbHM6IHRlbXBTYW1wbGVzW21hY2hpbmVdLnRpbWVzLA0KCQkJCWRhdGFzZXRzOiB0ZW1wU2FtcGxlc1ttYWNoaW5lXS50ZW1wcw0KCQkJfTsNCgkJCXRoaXMudXBkYXRlKCk7DQoJCX0NCgl9DQp9DQo="},{"version":3,"sources":["TemperatureChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TemperatureChart.vue","sourceRoot":"src/components/charts","sourcesContent":["<style scoped>\r\n.card {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n}\r\n\r\n.content {\r\n\tposition: relative;\r\n}\r\n\r\n.content > canvas {\r\n\tposition: absolute;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<v-card class=\"d-flex flex-column flex-grow-1\">\r\n\t\t<v-card-title class=\"pt-2 pb-0\">\r\n\t\t\t<v-icon class=\"mr-1\">mdi-chart-timeline-variant</v-icon> {{ $t('chart.temperature.caption') }}\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-text v-show=\"hasTemperaturesToDisplay\" class=\"content flex-grow-1 px-2 py-0\">\r\n\t\t\t<canvas ref=\"chart\"></canvas>\r\n\t\t</v-card-text>\r\n\r\n\t\t<v-spacer v-show=\"!hasTemperaturesToDisplay\"></v-spacer>\r\n\t\t<v-card-text class=\"pa-0\" v-show=\"!hasTemperaturesToDisplay\">\r\n\t\t\t<v-alert :value=\"true\" type=\"info\" class=\"mb-0\">\r\n\t\t\t\t{{ $t('chart.temperature.noData') }}\r\n\t\t\t</v-alert>\r\n\t\t</v-card-text>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport Chart from 'chart.js'\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nimport i18n from '../../i18n'\r\nimport { defaultMachine } from '../../store/machine'\r\nimport { getRealHeaterColor } from '../../utils/colors.js'\r\n\r\nconst sampleInterval = 1000\t\t\t// ms\r\nconst defaultMaxTemperature = 300\t// degC\r\nconst maxSampleTime = 600000\t\t// 10min (in ms)\r\n\r\nfunction makeDataset(index, extra, label, numSamples) {\r\n\tconst color = getRealHeaterColor(index, extra), dataset = {\r\n\t\tindex,\r\n\t\textra,\r\n\t\tlabel,\r\n\t\tfill: false,\r\n\t\tbackgroundColor: color,\r\n\t\tborderColor: color,\r\n\t\tborderDash: extra ? [10, 5] : undefined,\r\n\t\tborderWidth: 2,\r\n\t\tdata: [],\r\n\t\tlocale: i18n.locale,\r\n\t\tpointRadius: 0,\r\n\t\tpointHitRadius: 0,\r\n\t\tshowLine: true\r\n\t};\r\n\tdataset.data = (new Array(numSamples)).fill(NaN);\r\n\treturn dataset;\r\n}\r\n\r\nconst tempSamples = {\r\n\t[defaultMachine]: {\r\n\t\ttimes: [],\r\n\t\ttemps: []\r\n\t}\r\n}\r\n\r\nfunction pushSeriesData(machine, index, extra, sensor) {\r\n\t// Get series from dataset\r\n\tconst machineData = tempSamples[machine];\r\n\tlet dataset = machineData.temps.find(function(item) {\r\n\t\tif (item.index === index && item.extra === extra) {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t});\r\n\r\n\t// Check if the dataset has to be created first\r\n\tif (!dataset || dataset.locale !== i18n.locale || dataset.rawLabel !== sensor.name) {\r\n\t\tlet name;\r\n\t\tif (sensor.name) {\r\n\t\t\tconst matches = /(.*)\\[(.*)\\]$/.exec(sensor.name);\r\n\t\t\tname = matches ? matches[1] : sensor.name;\r\n\t\t} else {\r\n\t\t\tname = i18n.t('chart.temperature.heater', [index]);\r\n\t\t}\r\n\r\n\t\tif (dataset) {\r\n\t\t\tdataset.rawLabel = sensor.name;\r\n\t\t\tdataset.label = name;\r\n\t\t\tdataset.locale = i18n.locale;\r\n\t\t} else {\r\n\t\t\tdataset = makeDataset(index, extra, name, tempSamples[machine].times.length);\r\n\t\t\tmachineData.temps.push(dataset);\r\n\t\t}\r\n\t}\r\n\r\n\t// Add new sample\r\n\tdataset.data.push(sensor.lastReading);\r\n}\r\n\r\nlet storeSubscribed = false, instances = []\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState(['selectedMachine']),\r\n\t\t...mapGetters(['isConnected']),\r\n\t\t...mapGetters('machine', ['hasTemperaturesToDisplay']),\r\n\t\t...mapGetters('machine/model', ['maxHeaterTemperature']),\r\n\t\t...mapState('machine/model', ['heat']),\r\n\t\t...mapState('machine/settings', ['displayedExtraTemperatures']),\r\n\t\t...mapState('settings', ['darkTheme'])\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tchart: null,\r\n\t\t\tpauseUpdate: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdate() {\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.max = this.maxHeaterTemperature || defaultMaxTemperature;\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.min = new Date() - maxSampleTime;\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.max = new Date();\r\n\t\t\tthis.chart.update();\r\n\t\t},\r\n\t\tapplyDarkTheme(active) {\r\n\t\t\tconst legendColor = active ? '#FFF' : 'rgba(0,0,0,0.87)';\r\n\t\t\tthis.chart.config.options.legend.labels.fontColor = legendColor;\r\n\r\n\t\t\tconst ticksColor = active ? '#FFF' : '#666';\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.major.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.minor.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.major.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.minor.fontColor = ticksColor;\r\n\r\n\t\t\tconst gridLineColor = active ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.15)';\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].gridLines.color = gridLineColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.color = gridLineColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.zeroLineColor = gridLineColor;\r\n\r\n\t\t\tthis.chart.update();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\t// Create new chart options. Don't use data for the following because it should not be reactive\r\n\t\tthis.options = {\r\n\t\t\tanimation: {\r\n\t\t\t\tduration: 0\t\t\t\t\t// general animation time\r\n\t\t\t},\r\n\t\t\telements: {\r\n\t\t\t\tline: {\r\n\t\t\t\t\ttension: 0\t\t\t\t// disable bezier curves\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tlabels: {\r\n\t\t\t\t\tfilter: (legendItem, data) => data.datasets[legendItem.datasetIndex].showLine,\r\n\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tresponsive: true,\r\n\t\t\tresponsiveAnimationDuration: 0, // animation duration after a resize\r\n\t\t\tscales: {\r\n\t\t\t\txAxes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.2)',\r\n\t\t\t\t\t\t\tdisplay: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tmin: new Date() - maxSampleTime,\r\n\t\t\t\t\t\t\tmax: new Date(),\r\n\t\t\t\t\t\t\tminor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmajor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttime: {\r\n\t\t\t\t\t\t\tunit: 'minute',\r\n\t\t\t\t\t\t\tdisplayFormats: {\r\n\t\t\t\t\t\t\t\tminute: 'HH:mm'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tyAxes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.2)',\r\n\t\t\t\t\t\t\tzeroLineColor: 'rgba(0,0,0,0.2)',\r\n\t\t\t\t\t\t\tdisplay: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tminor: {\r\n\t\t\t\t\t\t\t\tfontColor: '#666',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmajor: {\r\n\t\t\t\t\t\t\t\tfontColor: '#666',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\t\tmax: defaultMaxTemperature,\r\n\t\t\t\t\t\t\tstepSize: 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Create the dataset if necessary\r\n\t\tif (tempSamples[this.selectedMachine] === undefined) {\r\n\t\t\ttempSamples[this.selectedMachine] = {\r\n\t\t\t\ttimes: [],\r\n\t\t\t\ttemps: []\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// Create the chart\r\n\t\tthis.chart = Chart.Line(this.$refs.chart, {\r\n\t\t\toptions: this.options,\r\n\t\t\tdata: {\r\n\t\t\t\tlabels: tempSamples[this.selectedMachine].times,\r\n\t\t\t\tdatasets: tempSamples[this.selectedMachine].temps\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.applyDarkTheme(this.darkTheme);\r\n\r\n\t\t// Keep track of updates\r\n\t\tinstances.push(this);\r\n\t\tif (!storeSubscribed) {\r\n\t\t\tthis.$store.subscribe((mutation, state) => {\r\n\t\t\t\tif (mutation.type === 'addMachine') {\r\n\t\t\t\t\t// Machine has been added\r\n\t\t\t\t\ttempSamples[mutation.payload.hostname] = {\r\n\t\t\t\t\t\ttimes: [],\r\n\t\t\t\t\t\ttemps: []\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (mutation.type === 'removeMachine') {\r\n\t\t\t\t\t// Machine has been removed\r\n\t\t\t\t\tdelete tempSamples[mutation.payload];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst result = /machines\\/(.+)\\/model\\/update/.exec(mutation.type);\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t// New data received\r\n\t\t\t\t\t\tconst machine = result[1], dataset = tempSamples[machine], now = new Date();\r\n\t\t\t\t\t\tif (dataset.times.length === 0 || now - dataset.times[dataset.times.length - 1] > sampleInterval) {\r\n\t\t\t\t\t\t\t// Record sensor temperatures\r\n\t\t\t\t\t\t\tstate.machines[machine].model.sensors.analog.forEach(function(sensor, sensorIndex) {\r\n\t\t\t\t\t\t\t\tif (sensor) {\r\n\t\t\t\t\t\t\t\t\tconst heaterIndex = state.machines[machine].model.heat.heaters.findIndex(heater => heater && heater.sensor === sensorIndex);\r\n\t\t\t\t\t\t\t\t\tif (heaterIndex !== -1) {\r\n\t\t\t\t\t\t\t\t\t\tpushSeriesData(machine, heaterIndex, false, sensor);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tpushSeriesData(machine, sensorIndex, true, sensor);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Record time and deal wih expired temperature samples\r\n\t\t\t\t\t\t\twhile (dataset.times.length && now - dataset.times[0] > maxSampleTime) {\r\n\t\t\t\t\t\t\t\tdataset.times.shift();\r\n\t\t\t\t\t\t\t\tdataset.temps.forEach(data => data.data.shift());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdataset.times.push(now);\r\n\r\n\t\t\t\t\t\t\t// Deal with visibility and tell chart instances to update\r\n\t\t\t\t\t\t\tdataset.temps.forEach(function(dataset) {\r\n\t\t\t\t\t\t\t\tdataset.showLine = !dataset.extra || (this.displayedExtraTemperatures.indexOf(dataset.index) !== -1);\r\n\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t\tinstances.forEach(instance => instance.update());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tstoreSubscribed = true;\r\n\t\t}\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\t// Don't update this instance any more...\r\n\t\tinstances = instances.filter(instance => instance !== this, this);\r\n\t},\r\n\twatch: {\r\n\t\tdarkTheme(to) {\r\n\t\t\tthis.applyDarkTheme(to);\r\n\t\t},\r\n\t\tselectedMachine(machine) {\r\n\t\t\t// Each chart instance is fixed to the currently selected machine\r\n\t\t\t// Reassign the corresponding dataset whenever the selected machine changes\r\n\t\t\tthis.chart.config.data = {\r\n\t\t\t\tlabels: tempSamples[machine].times,\r\n\t\t\t\tdatasets: tempSamples[machine].temps\r\n\t\t\t};\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}