{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\dialogs\\ConnectionDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\dialogs\\ConnectionDialog.vue","mtime":1592248188519},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KDQppbXBvcnQgeyBTdGF0dXNUeXBlIH0gZnJvbSAnLi4vLi4vc3RvcmUvbWFjaGluZS9tb2RlbEVudW1zLmpzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwU3RhdGUoWydjb25uZWN0aW5nUHJvZ3Jlc3MnLCAnaXNDb25uZWN0aW5nJywgJ2lzRGlzY29ubmVjdGluZyddKSwNCgkJLi4ubWFwR2V0dGVycyhbJ2lzQ29ubmVjdGVkJ10pLA0KCQkuLi5tYXBTdGF0ZSgnbWFjaGluZScsIFsnaXNSZWNvbm5lY3RpbmcnXSksDQoJCS4uLm1hcFN0YXRlKCdtYWNoaW5lL21vZGVsJywgew0KCQkJc3RhdHVzOiBzdGF0ZSA9PiBzdGF0ZS5zdGF0ZS5zdGF0dXMNCgkJfSksDQoJCW1lc3NhZ2UoKSB7DQoJCQlpZiAodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5jb25uZWN0aW5nUHJvZ3Jlc3MgPj0gMCkgew0KCQkJCXJldHVybiB0aGlzLiR0KCdkaWFsb2cuY29ubmVjdGlvbi5jb25uZWN0aW5nJyk7DQoJCQl9DQoJCQlpZiAodGhpcy5zdGF0dXMgPT09IFN0YXR1c1R5cGUudXBkYXRpbmcpIHsNCgkJCQlyZXR1cm4gdGhpcy4kdCgnZGlhbG9nLmNvbm5lY3Rpb24udXBkYXRpbmcnKTsNCgkJCX0NCgkJCWlmICh0aGlzLmlzUmVjb25uZWN0aW5nKSB7DQoJCQkJcmV0dXJuIHRoaXMuJHQoJ2RpYWxvZy5jb25uZWN0aW9uLnJlY29ubmVjdGluZycpOw0KCQkJfQ0KCQkJaWYgKHRoaXMuaXNEaXNjb25uZWN0aW5nKSB7DQoJCQkJcmV0dXJuIHRoaXMuJHQoJ2RpYWxvZy5jb25uZWN0aW9uLmRpc2Nvbm5lY3RpbmcnKTsNCgkJCX0NCgkJCXJldHVybiB0aGlzLiR0KCdkaWFsb2cuY29ubmVjdGlvbi5zdGFuZEJ5Jyk7DQoJCX0sDQoJCXNob3duKCkgew0KCQkJcmV0dXJuICh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmNvbm5lY3RpbmdQcm9ncmVzcyA+PSAwIHx8IHRoaXMuaXNSZWNvbm5lY3RpbmcgfHwgdGhpcy5pc0Rpc2Nvbm5lY3RpbmcgfHwNCgkJCQkJdGhpcy5zdGF0dXMgPT09IFN0YXR1c1R5cGUuaGFsdGVkIHx8IHRoaXMuc3RhdHVzID09PSBTdGF0dXNUeXBlLnVwZGF0aW5nKTsNCgkJfQ0KCX0sDQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCWRpc3BsYXlSZXNldDogZmFsc2UsDQoJCQloYWx0ZWRUaW1lcjogbnVsbA0KCQl9DQoJfSwNCgltZXRob2RzOiB7DQoJCXNob3dSZXNldEJ1dHRvbigpIHsNCgkJCXRoaXMuaGFsdGVkVGltZXIgPSBudWxsOw0KCQkJdGhpcy5kaXNwbGF5UmVzZXQgPSB0cnVlOw0KCQl9DQoJfSwNCgl3YXRjaDogew0KCQlzdGF0dXModG8pIHsNCgkJCWlmICh0byA9PT0gU3RhdHVzVHlwZS5oYWx0ZWQpIHsNCgkJCQl0aGlzLmhhbHRlZFRpbWVyID0gc2V0VGltZW91dCh0aGlzLnNob3dSZXNldEJ1dHRvbi5iaW5kKHRoaXMpLCA0MDAwKTsNCgkJCX0gZWxzZSB7DQoJCQkJaWYgKHRoaXMuaGFsdGVkVGltZXIpIHsNCgkJCQkJY2xlYXJUaW1lb3V0KHRoaXMuaGFsdGVkVGltZXIpOw0KCQkJCQl0aGlzLmhhbHRlZFRpbWVyID0gbnVsbDsNCgkJCQl9DQoJCQkJdGhpcy5kaXNwbGF5UmVzZXQgPSBmYWxzZTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["ConnectionDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConnectionDialog.vue","sourceRoot":"src/components/dialogs","sourcesContent":["<template>\r\n\t<v-overlay :value=\"shown\" :opacity=\"0.3\">\r\n\t\t<v-card color=\"primary\" width=\"480\">\r\n\t\t\t<v-card-title class=\"subtitle-1\">\r\n\t\t\t\t{{ message }}\r\n\t\t\t</v-card-title>\r\n\r\n\t\t\t<v-card-text>\r\n\t\t\t\t<v-progress-linear :indeterminate=\"connectingProgress < 0\" :value=\"connectingProgress\" color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n\t\t\t\t<center>\r\n\t\t\t\t\t<code-btn v-show=\"displayReset && isConnected\" class=\"mt-5\" code=\"M999\" :log=\"false\" color=\"warning\" :title=\"$t('button.reset.title')\">\r\n\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-refresh</v-icon> {{ $t('button.reset.caption') }}\r\n\t\t\t\t\t</code-btn>\r\n\t\t\t\t</center>\r\n\t\t\t</v-card-text>\r\n\t\t</v-card>\r\n\t</v-overlay>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nimport { StatusType } from '../../store/machine/modelEnums.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState(['connectingProgress', 'isConnecting', 'isDisconnecting']),\r\n\t\t...mapGetters(['isConnected']),\r\n\t\t...mapState('machine', ['isReconnecting']),\r\n\t\t...mapState('machine/model', {\r\n\t\t\tstatus: state => state.state.status\r\n\t\t}),\r\n\t\tmessage() {\r\n\t\t\tif (this.isConnecting || this.connectingProgress >= 0) {\r\n\t\t\t\treturn this.$t('dialog.connection.connecting');\r\n\t\t\t}\r\n\t\t\tif (this.status === StatusType.updating) {\r\n\t\t\t\treturn this.$t('dialog.connection.updating');\r\n\t\t\t}\r\n\t\t\tif (this.isReconnecting) {\r\n\t\t\t\treturn this.$t('dialog.connection.reconnecting');\r\n\t\t\t}\r\n\t\t\tif (this.isDisconnecting) {\r\n\t\t\t\treturn this.$t('dialog.connection.disconnecting');\r\n\t\t\t}\r\n\t\t\treturn this.$t('dialog.connection.standBy');\r\n\t\t},\r\n\t\tshown() {\r\n\t\t\treturn (this.isConnecting || this.connectingProgress >= 0 || this.isReconnecting || this.isDisconnecting ||\r\n\t\t\t\t\tthis.status === StatusType.halted || this.status === StatusType.updating);\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdisplayReset: false,\r\n\t\t\thaltedTimer: null\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tshowResetButton() {\r\n\t\t\tthis.haltedTimer = null;\r\n\t\t\tthis.displayReset = true;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus(to) {\r\n\t\t\tif (to === StatusType.halted) {\r\n\t\t\t\tthis.haltedTimer = setTimeout(this.showResetButton.bind(this), 4000);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.haltedTimer) {\r\n\t\t\t\t\tclearTimeout(this.haltedTimer);\r\n\t\t\t\t\tthis.haltedTimer = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.displayReset = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}