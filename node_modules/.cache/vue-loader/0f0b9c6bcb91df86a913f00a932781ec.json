{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\dialogs\\MessageBoxDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\dialogs\\MessageBoxDialog.vue","mtime":1592248188523},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwU3RhdGUoJ21hY2hpbmUnLCBbJ2lzUmVjb25uZWN0aW5nJ10pLA0KCQkuLi5tYXBTdGF0ZSgnbWFjaGluZS9tb2RlbCcsIHsNCgkJCW1lc3NhZ2VCb3g6IHN0YXRlID0+IHN0YXRlLnN0YXRlLm1lc3NhZ2VCb3gsDQoJCQltb3ZlOiBzdGF0ZSA9PiBzdGF0ZS5tb3ZlDQoJCX0pLA0KCQkuLi5tYXBTdGF0ZSgnbWFjaGluZS9zZXR0aW5ncycsIFsnbW92ZUZlZWRyYXRlJ10pLA0KCQkuLi5tYXBHZXR0ZXJzKCdtYWNoaW5lL3NldHRpbmdzJywgWydtb3ZlU3RlcHMnLCAnbnVtTW92ZVN0ZXBzJ10pLA0KCQlkaXNwbGF5ZWRBeGVzKCkgew0KCQkJY29uc3QgYXhpc0NvbnRyb2xzID0gdGhpcy5tZXNzYWdlQm94ID8gdGhpcy5tZXNzYWdlQm94LmF4aXNDb250cm9scyA6IDA7DQoJCQlyZXR1cm4gdGhpcy5tb3ZlLmF4ZXMuZmlsdGVyKChheGlzLCBpbmRleCkgPT4gYXhpcy52aXNpYmxlICYmICgoYXhpc0NvbnRyb2xzICYgKDEgPDwgaW5kZXgpKSAhPT0gMCkpOw0KCQl9DQoJfSwNCglkYXRhKCkgew0KCQlyZXR1cm4gew0KCQkJc2hvd246IGZhbHNlLA0KCQkJcGVyc2lzdGVudDogZmFsc2UNCgkJfQ0KCX0sDQoJbWV0aG9kczogew0KCQkuLi5tYXBBY3Rpb25zKCdtYWNoaW5lJywgWydzZW5kQ29kZSddKSwNCgkJZGlzcGxheUF4aXNQb3NpdGlvbihheGlzKSB7DQoJCQlsZXQgcG9zaXRpb24gPSBOYU47DQoJCQlpZiAodGhpcy5kaXNwbGF5VG9vbFBvc2l0aW9uKSB7DQoJCQkJaWYgKGF4aXMuZHJpdmVzLmxlbmd0aCA+IDApIHsNCgkJCQkJcG9zaXRpb24gPSB0aGlzLm1vdmUuZHJpdmVzW2F4aXMuZHJpdmVzWzBdXS5wb3NpdGlvbjsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCXBvc2l0aW9uID0gYXhpcy5tYWNoaW5lUG9zaXRpb247DQoJCQl9DQoJCQlyZXR1cm4gKGF4aXMubGV0dGVyID09PSAnWicpID8gdGhpcy4kZGlzcGxheVoocG9zaXRpb24sIGZhbHNlKSA6IHRoaXMuJGRpc3BsYXkocG9zaXRpb24sIDEpOw0KCQl9LA0KCQlnZXRNb3ZlQ2VsbENsYXNzKGluZGV4KSB7DQoJCQlsZXQgY2xhc3NlcyA9ICcnOw0KCQkJaWYgKGluZGV4ID09PSAwIHx8IGluZGV4ID09PSB0aGlzLm51bUF4c1N0ZXBzIC0gMSkgew0KCQkJCWNsYXNzZXMgKz0gJ2hpZGRlbi1tZC1hbmQtZG93bic7DQoJCQl9DQoJCQlpZiAoaW5kZXggPiAxICYmIGluZGV4IDwgNSAmJiBpbmRleCAlIDIgPT09IDEpIHsNCgkJCQljbGFzc2VzICs9ICdoaWRkZW4tc20tYW5kLWRvd24nOw0KCQkJfQ0KCQkJcmV0dXJuIGNsYXNzZXM7DQoJCX0sDQoJCXNob3dTaWduOiAodmFsdWUpID0+ICh2YWx1ZSA+IDApID8gYCske3ZhbHVlfWAgOiB2YWx1ZSwNCgkJb2soKSB7DQoJCQl0aGlzLnNob3duID0gZmFsc2U7DQoJCQl0aGlzLnNlbmRDb2RlKCdNMjkyJyk7DQoJCX0sDQoJCWNhbmNlbCgpIHsNCgkJCXRoaXMuc2hvd24gPSBmYWxzZTsNCgkJCXRoaXMuc2VuZENvZGUoJ00yOTIgUDEnKTsNCgkJfQ0KCX0sDQoJd2F0Y2g6IHsNCgkJaXNSZWNvbm5lY3RpbmcodG8pIHsNCgkJCWlmICh0bykgew0KCQkJCXRoaXMuc2hvd24gPSBmYWxzZTsNCgkJCX0NCgkJfSwNCgkJbWVzc2FnZUJveDogew0KCQkJZGVlcDogdHJ1ZSwNCgkJCWhhbmRsZXIodG8pIHsNCgkJCQl0aGlzLnNob3duID0gKHRvICYmIHRvLm1vZGUgIT09IG51bGwpOw0KCQkJCXRoaXMucGVyc2lzdGVudCA9ICh0byAmJiB0by5tb2RlICE9PSAwKTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["MessageBoxDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MessageBoxDialog.vue","sourceRoot":"src/components/dialogs","sourcesContent":["<template>\r\n\t<v-dialog v-model=\"shown\" :persistent=\"persistent\">\r\n\t\t<v-card>\r\n\t\t\t<v-card-title class=\"justify-center\">\r\n\t\t\t\t<span class=\"headline\">\r\n\t\t\t\t\t{{ messageBox ? messageBox.title : $t('generic.noValue') }}\r\n\t\t\t\t</span>\r\n\t\t\t</v-card-title>\r\n\r\n\t\t\t<v-card-text>\r\n\t\t\t\t<!-- Main message -->\r\n\t\t\t\t<center :class=\"{ 'mb-6': displayedAxes.length }\" v-html=\"messageBox ? messageBox.message : $t('generic.noValue')\"></center>\r\n\r\n\t\t\t\t<!-- Jog control -->\r\n\t\t\t\t<!-- TODO Replace the following and the content in MovementPanel with an own component -->\r\n\t\t\t\t<v-row v-for=\"axis in displayedAxes\" :key=\"axis.letter\" dense align=\"center\">\r\n\t\t\t\t\t<!-- Decreasing movements -->\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t<v-col v-for=\"index in numMoveSteps\" :key=\"-index\"  :class=\"getMoveCellClass(index - 1)\">\r\n\t\t\t\t\t\t\t\t<code-btn :code=\"`M120\\nG91\\nG1 ${axis.letter}${-moveSteps(axis.letter)[index - 1]} F${moveFeedrate}\\nG90\\nM121`\" no-wait @contextmenu.prevent=\"showMoveStepDialog(axis.letter, index - 1)\" block tile class=\"move-btn\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-chevron-left</v-icon> {{ axis.letter + showSign(-moveSteps(axis.letter)[index - 1]) }}\r\n\t\t\t\t\t\t\t\t</code-btn>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t<!-- Current position -->\r\n\t\t\t\t\t<v-col cols=\"auto\" class=\"px-3\">\r\n\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t{{ axis.letter + ' = ' + displayAxisPosition(axis) }}\r\n\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t<!-- Increasing movements -->\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t<v-col v-for=\"index in numMoveSteps\" :key=\"index\" :class=\"getMoveCellClass(numMoveSteps - index)\">\r\n\t\t\t\t\t\t\t\t<code-btn :code=\"`M120\\nG91\\nG1 ${axis.letter}${moveSteps(axis.letter)[numMoveSteps - index]} F${moveFeedrate}\\nG90\\nM121`\" no-wait @contextmenu.prevent=\"showMoveStepDialog(axis.letter, numMoveSteps - index)\" block tile class=\"move-btn\">\r\n\t\t\t\t\t\t\t\t\t{{ axis.letter + showSign(moveSteps(axis.letter)[numMoveSteps - index]) }} <v-icon>mdi-chevron-right</v-icon>\r\n\t\t\t\t\t\t\t\t</code-btn>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-text>\r\n\r\n\t\t\t<v-card-actions v-if=\"messageBox && messageBox.mode !== 0\">\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn v-if=\"messageBox && (messageBox.mode === 1 || messageBox.mode === 3)\" color=\"blue darken-1\" text @click=\"cancel\">\r\n\t\t\t\t\t{{ $t(messageBox.mode === 1 ? 'generic.close' : 'generic.cancel') }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn v-if=\"messageBox && (messageBox.mode === 2 || messageBox.mode === 3)\" color=\"blue darken-1\" text @click=\"ok\">\r\n\t\t\t\t\t{{ $t('generic.ok') }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState('machine', ['isReconnecting']),\r\n\t\t...mapState('machine/model', {\r\n\t\t\tmessageBox: state => state.state.messageBox,\r\n\t\t\tmove: state => state.move\r\n\t\t}),\r\n\t\t...mapState('machine/settings', ['moveFeedrate']),\r\n\t\t...mapGetters('machine/settings', ['moveSteps', 'numMoveSteps']),\r\n\t\tdisplayedAxes() {\r\n\t\t\tconst axisControls = this.messageBox ? this.messageBox.axisControls : 0;\r\n\t\t\treturn this.move.axes.filter((axis, index) => axis.visible && ((axisControls & (1 << index)) !== 0));\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshown: false,\r\n\t\t\tpersistent: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['sendCode']),\r\n\t\tdisplayAxisPosition(axis) {\r\n\t\t\tlet position = NaN;\r\n\t\t\tif (this.displayToolPosition) {\r\n\t\t\t\tif (axis.drives.length > 0) {\r\n\t\t\t\t\tposition = this.move.drives[axis.drives[0]].position;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tposition = axis.machinePosition;\r\n\t\t\t}\r\n\t\t\treturn (axis.letter === 'Z') ? this.$displayZ(position, false) : this.$display(position, 1);\r\n\t\t},\r\n\t\tgetMoveCellClass(index) {\r\n\t\t\tlet classes = '';\r\n\t\t\tif (index === 0 || index === this.numAxsSteps - 1) {\r\n\t\t\t\tclasses += 'hidden-md-and-down';\r\n\t\t\t}\r\n\t\t\tif (index > 1 && index < 5 && index % 2 === 1) {\r\n\t\t\t\tclasses += 'hidden-sm-and-down';\r\n\t\t\t}\r\n\t\t\treturn classes;\r\n\t\t},\r\n\t\tshowSign: (value) => (value > 0) ? `+${value}` : value,\r\n\t\tok() {\r\n\t\t\tthis.shown = false;\r\n\t\t\tthis.sendCode('M292');\r\n\t\t},\r\n\t\tcancel() {\r\n\t\t\tthis.shown = false;\r\n\t\t\tthis.sendCode('M292 P1');\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tisReconnecting(to) {\r\n\t\t\tif (to) {\r\n\t\t\t\tthis.shown = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmessageBox: {\r\n\t\t\tdeep: true,\r\n\t\t\thandler(to) {\r\n\t\t\t\tthis.shown = (to && to.mode !== null);\r\n\t\t\t\tthis.persistent = (to && to.mode !== 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}