{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\misc\\JobProgress.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\misc\\JobProgress.vue","mtime":1592248188549},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KDQppbXBvcnQgeyBNYWNoaW5lTW9kZSwgaXNQcmludGluZywgU3RhdHVzVHlwZSB9IGZyb20gJy4uLy4uL3N0b3JlL21hY2hpbmUvbW9kZWxFbnVtcy5qcycNCmltcG9ydCB7IGV4dHJhY3RGaWxlTmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzL3BhdGguanMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCgljb21wdXRlZDogew0KCQkuLi5tYXBTdGF0ZSgnbWFjaGluZS9tb2RlbCcsIHsNCgkJCWV4dHJ1ZGVyczogc3RhdGUgPT4gc3RhdGUubW92ZS5leHRydWRlcnMsDQoJCQlqb2I6IHN0YXRlID0+IHN0YXRlLmpvYiwNCgkJCW1hY2hpbmVNb2RlOiBzdGF0ZSA9PiBzdGF0ZS5zdGF0ZS5tYWNoaW5lTW9kZSwNCgkJCXN0YXR1czogc3RhdGUgPT4gc3RhdGUuc3RhdGUuc3RhdHVzDQoJCX0pLA0KCQkuLi5tYXBHZXR0ZXJzKCdtYWNoaW5lL21vZGVsJywgWydqb2JQcm9ncmVzcyddKSwNCgkJcHJpbnRTdGF0dXMoKSB7DQoJCQlpZiAoaXNQcmludGluZyh0aGlzLnN0YXR1cykpIHsNCgkJCQlpZiAodGhpcy5wcmludEZpbGUpIHsNCgkJCQkJY29uc3QgcHJvZ3Jlc3MgPSB0aGlzLiRkaXNwbGF5KHRoaXMuam9iUHJvZ3Jlc3MgKiAxMDAsIDEsICclJyk7DQoJCQkJCWlmICh0aGlzLnN0YXR1cyA9PT0gU3RhdHVzVHlwZS5zaW11bGF0aW5nKSB7DQoJCQkJCQlyZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3Muc2ltdWxhdGluZycsIFt0aGlzLnByaW50RmlsZSwgcHJvZ3Jlc3NdKTsNCgkJCQkJfQ0KCQkJCQlpZiAodGhpcy5tYWNoaW5lTW9kZSA9PT0gTWFjaGluZU1vZGUuZmZmKSB7DQoJCQkJCQlyZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3MucHJpbnRpbmcnLCBbdGhpcy5wcmludEZpbGUsIHByb2dyZXNzXSk7DQoJCQkJCX0NCgkJCQkJcmV0dXJuIHRoaXMuJHQoJ2pvYlByb2dyZXNzLnByb2Nlc3NpbmcnLCBbdGhpcy5wcmludEZpbGUsIHByb2dyZXNzXSk7DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzLiR0KCdnZW5lcmljLmxvYWRpbmcnKTsNCgkJCX0gZWxzZSBpZiAodGhpcy5sYXN0UHJpbnRGaWxlKSB7DQoJCQkJaWYgKHRoaXMuam9iLmxhc3RGaWxlU2ltdWxhdGVkKSB7DQoJCQkJCXJldHVybiB0aGlzLiR0KCdqb2JQcm9ncmVzcy5zaW11bGF0ZWQnLCBbdGhpcy5sYXN0UHJpbnRGaWxlXSk7DQoJCQkJfQ0KCQkJCWlmICh0aGlzLm1hY2hpbmVNb2RlID09PSBNYWNoaW5lTW9kZS5mZmYpIHsNCgkJCQkJcmV0dXJuIHRoaXMuJHQoJ2pvYlByb2dyZXNzLnByaW50ZWQnLCBbdGhpcy5sYXN0UHJpbnRGaWxlXSk7DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzLiR0KCdqb2JQcm9ncmVzcy5wcm9jZXNzZWQnLCBbdGhpcy5sYXN0UHJpbnRGaWxlXSk7DQoJCQl9DQoJCQlyZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3Mubm9Kb2InKTsNCgkJfSwNCgkJcHJpbnREZXRhaWxzKCkgew0KCQkJaWYgKCFpc1ByaW50aW5nKHRoaXMuc3RhdHVzKSkgew0KCQkJCXJldHVybiAnJzsNCgkJCX0NCg0KCQkJbGV0IGRldGFpbHMgPSAnJzsNCgkJCWlmICh0aGlzLmpvYi5sYXllciAhPT0gbnVsbCAmJiB0aGlzLmpvYi5maWxlLm51bUxheWVycykgew0KCQkJCWRldGFpbHMgPSB0aGlzLiR0KCdqb2JQcm9ncmVzcy5sYXllcicsIFt0aGlzLmpvYi5sYXllciwgdGhpcy5qb2IuZmlsZS5udW1MYXllcnNdKTsNCgkJCX0NCgkJCWlmICh0aGlzLmV4dHJ1ZGVycy5sZW5ndGggPiAwKSB7DQoJCQkJaWYgKGRldGFpbHMgIT09ICcnKSB7IGRldGFpbHMgKz0gJywgJzsgfQ0KCQkJCWNvbnN0IHRvdGFsUmF3RXh0cnVkZWQgPSB0aGlzLmV4dHJ1ZGVycw0KCQkJCQkJCQkJCQkubWFwKGV4dHJ1ZGVyID0+IGV4dHJ1ZGVyLnJhd1Bvc2l0aW9uKQ0KCQkJCQkJCQkJCQkucmVkdWNlKChhLCBiKSA9PiBhICsgYik7DQoJCQkJZGV0YWlscyArPSB0aGlzLiR0KCdqb2JQcm9ncmVzcy5maWxhbWVudCcsIFt0aGlzLiRkaXNwbGF5KHRvdGFsUmF3RXh0cnVkZWQsIDEsICdtbScpXSk7DQoJCQkJaWYgKHRoaXMuam9iLmZpbGUuZmlsYW1lbnQubGVuZ3RoID4gMCkgew0KCQkJCQljb25zdCBuZWVkZWQgPSB0aGlzLmpvYi5maWxlLmZpbGFtZW50LnJlZHVjZSgoYSwgYikgPT4gYSArIGIpOw0KCQkJCQlkZXRhaWxzICs9ICcgKCcgKyB0aGlzLiR0KCdqb2JQcm9ncmVzcy5maWxhbWVudFJlbWFpbmluZycsIFt0aGlzLiRkaXNwbGF5KE1hdGgubWF4KG5lZWRlZCAtIHRvdGFsUmF3RXh0cnVkZWQsIDApLCAxLCAnbW0nKV0pICsgJyknOw0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiBkZXRhaWxzOw0KCQl9LA0KCQlwcmludEZpbGUoKSB7DQoJCQlyZXR1cm4gKHRoaXMuam9iLmZpbGUuZmlsZU5hbWUgIT09IG51bGwpID8gZXh0cmFjdEZpbGVOYW1lKHRoaXMuam9iLmZpbGUuZmlsZU5hbWUpIDogbnVsbDsNCgkJfSwNCgkJbGFzdFByaW50RmlsZSgpIHsNCgkJCXJldHVybiAodGhpcy5qb2IubGFzdEZpbGVOYW1lICE9PSBudWxsKSA/IGV4dHJhY3RGaWxlTmFtZSh0aGlzLmpvYi5sYXN0RmlsZU5hbWUpIDogbnVsbDsNCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["JobProgress.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JobProgress.vue","sourceRoot":"src/components/misc","sourcesContent":["<template>\r\n\t<v-row dense>\r\n\t\t<v-col cols=\"12\" class=\"d-flex\">\r\n\t\t\t<span>{{ printStatus }}</span>\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<span>{{ printDetails }}</span>\r\n\t\t</v-col>\r\n\r\n\t\t<v-col cols=\"12\">\r\n\t\t\t<v-progress-linear :value=\"jobProgress * 100\" class=\"my-1\"></v-progress-linear>\r\n\t\t</v-col>\r\n\t</v-row>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nimport { MachineMode, isPrinting, StatusType } from '../../store/machine/modelEnums.js'\r\nimport { extractFileName } from '../../utils/path.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState('machine/model', {\r\n\t\t\textruders: state => state.move.extruders,\r\n\t\t\tjob: state => state.job,\r\n\t\t\tmachineMode: state => state.state.machineMode,\r\n\t\t\tstatus: state => state.state.status\r\n\t\t}),\r\n\t\t...mapGetters('machine/model', ['jobProgress']),\r\n\t\tprintStatus() {\r\n\t\t\tif (isPrinting(this.status)) {\r\n\t\t\t\tif (this.printFile) {\r\n\t\t\t\t\tconst progress = this.$display(this.jobProgress * 100, 1, '%');\r\n\t\t\t\t\tif (this.status === StatusType.simulating) {\r\n\t\t\t\t\t\treturn this.$t('jobProgress.simulating', [this.printFile, progress]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.machineMode === MachineMode.fff) {\r\n\t\t\t\t\t\treturn this.$t('jobProgress.printing', [this.printFile, progress]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.$t('jobProgress.processing', [this.printFile, progress]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$t('generic.loading');\r\n\t\t\t} else if (this.lastPrintFile) {\r\n\t\t\t\tif (this.job.lastFileSimulated) {\r\n\t\t\t\t\treturn this.$t('jobProgress.simulated', [this.lastPrintFile]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.machineMode === MachineMode.fff) {\r\n\t\t\t\t\treturn this.$t('jobProgress.printed', [this.lastPrintFile]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$t('jobProgress.processed', [this.lastPrintFile]);\r\n\t\t\t}\r\n\t\t\treturn this.$t('jobProgress.noJob');\r\n\t\t},\r\n\t\tprintDetails() {\r\n\t\t\tif (!isPrinting(this.status)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\tlet details = '';\r\n\t\t\tif (this.job.layer !== null && this.job.file.numLayers) {\r\n\t\t\t\tdetails = this.$t('jobProgress.layer', [this.job.layer, this.job.file.numLayers]);\r\n\t\t\t}\r\n\t\t\tif (this.extruders.length > 0) {\r\n\t\t\t\tif (details !== '') { details += ', '; }\r\n\t\t\t\tconst totalRawExtruded = this.extruders\r\n\t\t\t\t\t\t\t\t\t\t\t.map(extruder => extruder.rawPosition)\r\n\t\t\t\t\t\t\t\t\t\t\t.reduce((a, b) => a + b);\r\n\t\t\t\tdetails += this.$t('jobProgress.filament', [this.$display(totalRawExtruded, 1, 'mm')]);\r\n\t\t\t\tif (this.job.file.filament.length > 0) {\r\n\t\t\t\t\tconst needed = this.job.file.filament.reduce((a, b) => a + b);\r\n\t\t\t\t\tdetails += ' (' + this.$t('jobProgress.filamentRemaining', [this.$display(Math.max(needed - totalRawExtruded, 0), 1, 'mm')]) + ')';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn details;\r\n\t\t},\r\n\t\tprintFile() {\r\n\t\t\treturn (this.job.file.fileName !== null) ? extractFileName(this.job.file.fileName) : null;\r\n\t\t},\r\n\t\tlastPrintFile() {\r\n\t\t\treturn (this.job.lastFileName !== null) ? extractFileName(this.job.lastFileName) : null;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}