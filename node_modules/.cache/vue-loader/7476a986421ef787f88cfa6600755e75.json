{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\charts\\LayerChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\charts\\LayerChart.vue","mtime":1592248188513},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJw0KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQoNCmltcG9ydCB7IGRpc3BsYXksIGRpc3BsYXlaLCBkaXNwbGF5VGltZSB9IGZyb20gJy4uLy4uL3BsdWdpbnMvZGlzcGxheS5qcycNCg0KbGV0IGxheWVycw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwU3RhdGUoJ21hY2hpbmUvbW9kZWwnLCBbJ2pvYiddKSwNCgkJLi4ubWFwU3RhdGUoJ3NldHRpbmdzJywgWydkYXJrVGhlbWUnLCAnbGFuZ3VhZ2UnXSkNCgl9LA0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQljaGFydDogbnVsbCwNCgkJCXNob3dBbGxMYXllcnM6IGZhbHNlDQoJCX0NCgl9LA0KCW1ldGhvZHM6IHsNCgkJdXBkYXRlQ2hhcnQoKSB7DQoJCQlsYXllcnMgPSB0aGlzLmpvYi5sYXllcnM7DQoJCQl0aGlzLmNoYXJ0LmRhdGEubGFiZWxzID0gbGF5ZXJzLm1hcCgoZHVtbXksIGluZGV4KSA9PiBpbmRleCArIDEpOw0KCQkJdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmRhdGEgPSBsYXllcnMubWFwKGxheWVyID0+IGxheWVyLmR1cmF0aW9uKTsNCg0KCQkJaWYgKHRoaXMuc2hvd0FsbExheWVycykgew0KCQkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1pbiA9IDE7DQoJCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueEF4ZXNbMF0udGlja3MubWF4ID0gbGF5ZXJzLmxlbmd0aDsNCgkJCX0gZWxzZSB7DQoJCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueEF4ZXNbMF0udGlja3MubWluID0gTWF0aC5tYXgoKGxheWVycy5sZW5ndGggPiAyKSA/IDIgOiAxLCBsYXllcnMubGVuZ3RoIC0gMzApOw0KCQkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1heCA9IE1hdGgubWF4KDMwLCBsYXllcnMubGVuZ3RoKTsNCgkJCX0NCgkJCXRoaXMuY2hhcnQudXBkYXRlKCk7DQoJCX0sDQoJCWFwcGx5RGFya1RoZW1lKGFjdGl2ZSkgew0KCQkJY29uc3QgdGlja3NDb2xvciA9IGFjdGl2ZSA/ICcjRkZGJyA6ICcjNjY2JzsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnhBeGVzWzBdLnRpY2tzLm1pbm9yLmZvbnRDb2xvciA9IHRpY2tzQ29sb3I7DQoJCQl0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNjYWxlcy54QXhlc1swXS50aWNrcy5tYWpvci5mb250Q29sb3IgPSB0aWNrc0NvbG9yOw0KCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0udGlja3MubWFqb3IuZm9udENvbG9yID0gdGlja3NDb2xvcjsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnlBeGVzWzBdLnRpY2tzLm1pbm9yLmZvbnRDb2xvciA9IHRpY2tzQ29sb3I7DQoNCgkJCWNvbnN0IGdyaWRMaW5lQ29sb3IgPSBhY3RpdmUgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjE1KScgOiAncmdiYSgwLDAsMCwwLjE1KSc7DQoJCQl0aGlzLmNoYXJ0LmNvbmZpZy5vcHRpb25zLnNjYWxlcy54QXhlc1swXS5ncmlkTGluZXMuY29sb3IgPSBncmlkTGluZUNvbG9yOw0KCQkJdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0uZ3JpZExpbmVzLmNvbG9yID0gZ3JpZExpbmVDb2xvcjsNCgkJCXRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMuc2NhbGVzLnlBeGVzWzBdLmdyaWRMaW5lcy56ZXJvTGluZUNvbG9yID0gZ3JpZExpbmVDb2xvcjsNCg0KCQkJdGhpcy5jaGFydC51cGRhdGUoKTsNCgkJfQ0KCX0sDQoJbW91bnRlZCgpIHsNCgkJLy8gQ3JlYXRlIG5ldyBjaGFydCBvcHRpb25zLiBEb24ndCB1c2UgZGF0YSBmb3IgdGhlIGZvbGxvd2luZyBiZWNhdXNlIGl0IHNob3VsZCBub3QgYmUgcmVhY3RpdmUNCgkJY29uc3QgdGhhdCA9IHRoaXM7DQoJCXRoaXMub3B0aW9ucyA9IHsNCgkJCWVsZW1lbnRzOiB7DQoJCQkJbGluZTogew0KCQkJCQl0ZW5zaW9uOiAwDQoJCQkJfQ0KCQkJfSwNCgkJCWxlZ2VuZDogew0KCQkJCWRpc3BsYXk6IGZhbHNlDQoJCQl9LA0KCQkJbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsDQoJCQlzY2FsZXM6IHsNCgkJCQl4QXhlczogWw0KCQkJCQl7DQoJCQkJCQlncmlkTGluZXM6IHsNCgkJCQkJCQljb2xvcjogJ3JnYmEoMCwwLDAsMC4yKScsDQoJCQkJCQkJZGlzcGxheTogdHJ1ZQ0KCQkJCQkJfSwNCgkJCQkJCXRpY2tzOiB7DQoJCQkJCQkJbWlub3I6IHsNCgkJCQkJCQkJZm9udENvbG9yOiAncmdiYSgwLDAsMCwwLjg3KScsDQoJCQkJCQkJCWZvbnRGYW1pbHk6ICdSb2JvdG8sc2Fucy1zZXJpZicNCgkJCQkJCQl9LA0KCQkJCQkJCW1ham9yOiB7DQoJCQkJCQkJCWZvbnRDb2xvcjogJ3JnYmEoMCwwLDAsMC44NyknLA0KCQkJCQkJCQlmb250RmFtaWx5OiAnUm9ib3RvLHNhbnMtc2VyaWYnDQoJCQkJCQkJfSwNCgkJCQkJCQliZWdpbkF0WmVybzogdHJ1ZSwNCgkJCQkJCQltYXhSb3RhdGlvbjogMCwNCgkJCQkJCQlzdGVwU2l6ZTogNQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJXSwNCgkJCQl5QXhlczogWw0KCQkJCQl7DQoJCQkJCQlncmlkTGluZXM6IHsNCgkJCQkJCQljb2xvcjogJ3JnYmEoMCwwLDAsMC44NyknLA0KCQkJCQkJCXplcm9MaW5lQ29sb3I6ICdyZ2JhKDAsMCwwLDAuMiknLA0KCQkJCQkJCWRpc3BsYXk6IHRydWUNCgkJCQkJCX0sDQoJCQkJCQl0aWNrczogew0KCQkJCQkJCW1pbm9yOiB7DQoJCQkJCQkJCWZvbnRDb2xvcjogJ3JnYmEoMCwwLDAsMC44NyknLA0KCQkJCQkJCQlmb250RmFtaWx5OiAnUm9ib3RvLHNhbnMtc2VyaWYnDQoJCQkJCQkJfSwNCgkJCQkJCQltYWpvcjogew0KCQkJCQkJCQlmb250Q29sb3I6ICdyZ2JhKDAsMCwwLDAuODcpJywNCgkJCQkJCQkJZm9udEZhbWlseTogJ1JvYm90byxzYW5zLXNlcmlmJw0KCQkJCQkJCX0sDQoJCQkJCQkJYmVnaW5BdFplcm86IHRydWUsDQoJCQkJCQkJc3VnZ2VzdGVkTWF4OiAzMCwNCgkJCQkJCQljYWxsYmFjazogZnVuY3Rpb24odmFsdWUpIHsNCgkJCQkJCQkJcmV0dXJuIGRpc3BsYXlUaW1lKHZhbHVlLCBmYWxzZSk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJXQ0KCQkJfSwNCgkJCXRvb2x0aXBzOiB7DQoJCQkJZGlzcGxheUNvbG9yczogZmFsc2UsDQoJCQkJY2FsbGJhY2tzOiB7DQoJCQkJCXRpdGxlOiB0b29sdGlwSXRlbXMgPT4gdGhhdC4kdCgnY2hhcnQubGF5ZXIubGF5ZXInLCBbdG9vbHRpcEl0ZW1zWzBdLmluZGV4ICsgMV0pLA0KCQkJCQlsYWJlbCh0b29sdGlwSXRlbSkgew0KCQkJCQkJY29uc3QgbGF5ZXIgPSBsYXllcnNbdG9vbHRpcEl0ZW0uaW5kZXhdOw0KCQkJCQkJbGV0IHJlc3VsdCA9IFt0aGF0LiR0KCdjaGFydC5sYXllci5sYXllckR1cmF0aW9uJywgW2Rpc3BsYXlUaW1lKGxheWVyLmR1cmF0aW9uLCBmYWxzZSldKV07DQoJCQkJCQlpZiAobGF5ZXIuaGVpZ2h0KSB7IHJlc3VsdC5wdXNoKHRoYXQuJHQoJ2NoYXJ0LmxheWVyLmxheWVySGVpZ2h0JywgW2Rpc3BsYXlaKGxheWVyLmhlaWdodCldKSk7IH0NCgkJCQkJCWlmIChsYXllci5maWxhbWVudCkgeyByZXN1bHQucHVzaCh0aGF0LiR0KCdjaGFydC5sYXllci5maWxhbWVudFVzYWdlJywgW2Rpc3BsYXkobGF5ZXIuZmlsYW1lbnQsIDEsICdtbScpXSkpOyB9DQoJCQkJCQlpZiAobGF5ZXIuZnJhY3Rpb25QcmludGVkKSB7IHJlc3VsdC5wdXNoKHRoYXQuJHQoJ2NoYXJ0LmxheWVyLmZyYWN0aW9uUHJpbnRlZCcsIFtkaXNwbGF5KGxheWVyLmZyYWN0aW9uUHJpbnRlZCAqIDEwMCwgMSwgJyUnKV0pKTsgfQ0KCQkJCQkJcmV0dXJuIHJlc3VsdDsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCS8vIHBhbm5pbmcgYW5kIHpvb21pbmcgaXMgbm90IHN1cHBvcnRlZCB1bnRpbCB0aGUgcGFubmluZyBmZWF0dXJlIG9mIGNoYXJ0anMtcGx1Z2luLXpvb20gaXMgZml4ZWQNCgkJfTsNCg0KCQkvLyBDcmVhdGUgdGhlIGNoYXJ0DQoJCXRoaXMuY2hhcnQgPSBDaGFydC5MaW5lKHRoaXMuJHJlZnMuY2hhcnQsIHsNCgkJCW9wdGlvbnM6IHRoaXMub3B0aW9ucywNCgkJCWRhdGE6IHsNCgkJCQlkYXRhc2V0czogW3sNCgkJCQkJYm9yZGVyQ29sb3I6ICdyZ2JhKDAsIDEyOSwgMjE0LCAwLjgpJywNCgkJCQkJYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAxMjksIDIxNCwgMC44KScsDQoJCQkJCWZpbGw6IGZhbHNlLA0KCQkJCQlsYWJlbDogdGhpcy4kdCgnY2hhcnQubGF5ZXIubGF5ZXJUaW1lJykNCgkJCQl9XQ0KCQkJfQ0KCQl9KTsNCgkJdGhpcy5hcHBseURhcmtUaGVtZSh0aGlzLmRhcmtUaGVtZSk7DQoJCXRoaXMudXBkYXRlQ2hhcnQoKTsNCgl9LA0KCXdhdGNoOiB7DQoJCWRhcmtUaGVtZSh0bykgew0KCQkJdGhpcy5hcHBseURhcmtUaGVtZSh0byk7DQoJCX0sDQoJCWxhbmd1YWdlKCkgew0KCQkJdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzWzBdLmxhYmVsID0gdGhpcy4kdCgnY2hhcnQubGF5ZXIubGF5ZXJUaW1lJyk7DQoJCX0sDQoJCSdqb2IubGF5ZXJzJygpIHsNCgkJCXRoaXMudXBkYXRlQ2hhcnQoKTsNCgkJfSwNCgkJc2hvd0FsbExheWVycygpIHsNCgkJCXRoaXMudXBkYXRlQ2hhcnQoKTsNCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["LayerChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LayerChart.vue","sourceRoot":"src/components/charts","sourcesContent":["<style scoped>\r\n.content {\r\n\tposition: relative;\r\n\tmin-height: 180px;\r\n}\r\n\r\n.content > canvas {\r\n\tposition: absolute;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<v-card class=\"d-flex flex-column flex-grow-1\">\r\n\t\t<v-card-title>\r\n\t\t\t<span>\r\n\t\t\t\t<v-icon small class=\"mr-1\">mdi-vector-polyline</v-icon> {{ $t('chart.layer.caption') }}\r\n\t\t\t</span>\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<a v-show=\"job.layers.length > 30\" href=\"javascript:void(0)\" @click.prevent=\"showAllLayers = !showAllLayers\">\r\n\t\t\t\t{{ showAllLayers ? $t('chart.layer.showLastLayers', [30]) : $t('chart.layer.showAllLayers') }}\r\n\t\t\t</a>\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-text class=\"content flex-grow-1 px-2 py-0\">\r\n\t\t\t<canvas ref=\"chart\"></canvas>\r\n\t\t</v-card-text>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport Chart from 'chart.js'\r\n\r\nimport { mapState } from 'vuex'\r\n\r\nimport { display, displayZ, displayTime } from '../../plugins/display.js'\r\n\r\nlet layers\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState('machine/model', ['job']),\r\n\t\t...mapState('settings', ['darkTheme', 'language'])\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tchart: null,\r\n\t\t\tshowAllLayers: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdateChart() {\r\n\t\t\tlayers = this.job.layers;\r\n\t\t\tthis.chart.data.labels = layers.map((dummy, index) => index + 1);\r\n\t\t\tthis.chart.data.datasets[0].data = layers.map(layer => layer.duration);\r\n\r\n\t\t\tif (this.showAllLayers) {\r\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.min = 1;\r\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.max = layers.length;\r\n\t\t\t} else {\r\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.min = Math.max((layers.length > 2) ? 2 : 1, layers.length - 30);\r\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.max = Math.max(30, layers.length);\r\n\t\t\t}\r\n\t\t\tthis.chart.update();\r\n\t\t},\r\n\t\tapplyDarkTheme(active) {\r\n\t\t\tconst ticksColor = active ? '#FFF' : '#666';\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.minor.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.major.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.major.fontColor = ticksColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.minor.fontColor = ticksColor;\r\n\r\n\t\t\tconst gridLineColor = active ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.15)';\r\n\t\t\tthis.chart.config.options.scales.xAxes[0].gridLines.color = gridLineColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.color = gridLineColor;\r\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.zeroLineColor = gridLineColor;\r\n\r\n\t\t\tthis.chart.update();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\t// Create new chart options. Don't use data for the following because it should not be reactive\r\n\t\tconst that = this;\r\n\t\tthis.options = {\r\n\t\t\telements: {\r\n\t\t\t\tline: {\r\n\t\t\t\t\ttension: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false\r\n\t\t\t},\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tscales: {\r\n\t\t\t\txAxes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.2)',\r\n\t\t\t\t\t\t\tdisplay: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tminor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmajor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\t\tstepSize: 5\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tyAxes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\tzeroLineColor: 'rgba(0,0,0,0.2)',\r\n\t\t\t\t\t\t\tdisplay: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tminor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmajor: {\r\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\r\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tsuggestedMax: 30,\r\n\t\t\t\t\t\t\tcallback: function(value) {\r\n\t\t\t\t\t\t\t\treturn displayTime(value, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tdisplayColors: false,\r\n\t\t\t\tcallbacks: {\r\n\t\t\t\t\ttitle: tooltipItems => that.$t('chart.layer.layer', [tooltipItems[0].index + 1]),\r\n\t\t\t\t\tlabel(tooltipItem) {\r\n\t\t\t\t\t\tconst layer = layers[tooltipItem.index];\r\n\t\t\t\t\t\tlet result = [that.$t('chart.layer.layerDuration', [displayTime(layer.duration, false)])];\r\n\t\t\t\t\t\tif (layer.height) { result.push(that.$t('chart.layer.layerHeight', [displayZ(layer.height)])); }\r\n\t\t\t\t\t\tif (layer.filament) { result.push(that.$t('chart.layer.filamentUsage', [display(layer.filament, 1, 'mm')])); }\r\n\t\t\t\t\t\tif (layer.fractionPrinted) { result.push(that.$t('chart.layer.fractionPrinted', [display(layer.fractionPrinted * 100, 1, '%')])); }\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// panning and zooming is not supported until the panning feature of chartjs-plugin-zoom is fixed\r\n\t\t};\r\n\r\n\t\t// Create the chart\r\n\t\tthis.chart = Chart.Line(this.$refs.chart, {\r\n\t\t\toptions: this.options,\r\n\t\t\tdata: {\r\n\t\t\t\tdatasets: [{\r\n\t\t\t\t\tborderColor: 'rgba(0, 129, 214, 0.8)',\r\n\t\t\t\t\tbackgroundColor: 'rgba(0, 129, 214, 0.8)',\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlabel: this.$t('chart.layer.layerTime')\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.applyDarkTheme(this.darkTheme);\r\n\t\tthis.updateChart();\r\n\t},\r\n\twatch: {\r\n\t\tdarkTheme(to) {\r\n\t\t\tthis.applyDarkTheme(to);\r\n\t\t},\r\n\t\tlanguage() {\r\n\t\t\tthis.chart.data.datasets[0].label = this.$t('chart.layer.layerTime');\r\n\t\t},\r\n\t\t'job.layers'() {\r\n\t\t\tthis.updateChart();\r\n\t\t},\r\n\t\tshowAllLayers() {\r\n\t\t\tthis.updateChart();\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}