{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\panels\\MovementPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\panels\\MovementPanel.vue","mtime":1592248188567},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQondXNlIHN0cmljdCcNCg0KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnDQoNCmltcG9ydCB7IEtpbmVtYXRpY3NOYW1lIH0gZnJvbSAnLi4vLi4vc3RvcmUvbWFjaGluZS9tb2RlbEVudW1zLmpzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcHV0ZWQ6IHsNCgkJLi4ubWFwR2V0dGVycyhbJ2lzQ29ubmVjdGVkJywgJ3VpRnJvemVuJ10pLA0KCQkuLi5tYXBTdGF0ZSgnbWFjaGluZS9tb2RlbCcsIFsnbW92ZSddKSwNCgkJLi4ubWFwU3RhdGUoJ21hY2hpbmUvc2V0dGluZ3MnLCBbJ21vdmVGZWVkcmF0ZSddKSwNCgkJLi4ubWFwR2V0dGVycygnbWFjaGluZS9zZXR0aW5ncycsIFsnbW92ZVN0ZXBzJywgJ251bU1vdmVTdGVwcyddKSwNCgkJaXNDb21wZW5zYXRpb25FbmFibGVkKCkgeyByZXR1cm4gdGhpcy5tb3ZlLmNvbXBlbnNhdGlvbi50eXBlLnRvTG93ZXJDYXNlKCkgIT09ICdub25lJyB9LA0KCQl2aXNpYmxlQXhlcygpIHsgcmV0dXJuIHRoaXMubW92ZS5heGVzLmZpbHRlcihheGlzID0+IGF4aXMudmlzaWJsZSk7IH0sDQoJCWlzRGVsdGEoKSB7DQoJCQlyZXR1cm4gKCh0aGlzLm1vdmUua2luZW1hdGljcy5uYW1lID09PSBLaW5lbWF0aWNzTmFtZS5kZWx0YSkgfHwNCgkJCQkJKHRoaXMubW92ZS5raW5lbWF0aWNzLm5hbWUgPT09IEtpbmVtYXRpY3NOYW1lLnJvdGFyeURlbHRhKSk7DQoJCX0sDQoJCXVuaG9tZWRBeGVzKCkgeyByZXR1cm4gdGhpcy5tb3ZlLmF4ZXMuZmlsdGVyKGF4aXMgPT4gYXhpcy52aXNpYmxlICYmICFheGlzLmhvbWVkKTsgfQ0KCX0sDQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCXNob3dNZXNoRWRpdERpYWxvZzogZmFsc2UsDQoJCQltb3ZlU3RlcERpYWxvZzogew0KCQkJCXNob3duOiBmYWxzZSwNCgkJCQlheGlzOiAnWCcsDQoJCQkJaW5kZXg6IDAsDQoJCQkJcHJlc2V0OiAwDQoJCQl9DQoJCX0NCgl9LA0KCW1ldGhvZHM6IHsNCgkJLi4ubWFwQWN0aW9ucygnbWFjaGluZScsIFsnc2VuZENvZGUnXSksDQoJCS4uLm1hcE11dGF0aW9ucygnbWFjaGluZS9zZXR0aW5ncycsIFsnc2V0TW92ZVN0ZXAnXSksDQoJCWdldE1vdmVDZWxsQ2xhc3MoaW5kZXgpIHsNCgkJCWxldCBjbGFzc2VzID0gJyc7DQoJCQlpZiAoaW5kZXggPT09IDAgfHwgaW5kZXggPT09IDUpIHsNCgkJCQljbGFzc2VzICs9ICdoaWRkZW4tbGctYW5kLWRvd24nOw0KCQkJfQ0KCQkJaWYgKGluZGV4ID4gMSAmJiBpbmRleCA8IDQgJiYgaW5kZXggJSAyID09PSAxKSB7DQoJCQkJY2xhc3NlcyArPSAnaGlkZGVuLW1kLWFuZC1kb3duJzsNCgkJCX0NCgkJCXJldHVybiBjbGFzc2VzOw0KCQl9LA0KCQlzaG93U2lnbjogKHZhbHVlKSA9PiAodmFsdWUgPiAwKSA/IGArJHt2YWx1ZX1gIDogdmFsdWUsDQoJCXNob3dNb3ZlU3RlcERpYWxvZyhheGlzLCBpbmRleCkgew0KCQkJdGhpcy5tb3ZlU3RlcERpYWxvZy5heGlzID0gYXhpczsNCgkJCXRoaXMubW92ZVN0ZXBEaWFsb2cuaW5kZXggPSBpbmRleDsNCgkJCXRoaXMubW92ZVN0ZXBEaWFsb2cucHJlc2V0ID0gdGhpcy5tb3ZlU3RlcHModGhpcy5tb3ZlU3RlcERpYWxvZy5heGlzKVt0aGlzLm1vdmVTdGVwRGlhbG9nLmluZGV4XTsNCgkJCXRoaXMubW92ZVN0ZXBEaWFsb2cuc2hvd24gPSB0cnVlOw0KCQl9LA0KCQltb3ZlU3RlcERpYWxvZ0NvbmZpcm1lZCh2YWx1ZSkgew0KCQkJdGhpcy5zZXRNb3ZlU3RlcCh7IGF4aXM6IHRoaXMubW92ZVN0ZXBEaWFsb2cuYXhpcywgaW5kZXg6IHRoaXMubW92ZVN0ZXBEaWFsb2cuaW5kZXgsIHZhbHVlIH0pOw0KCQl9DQoJfSwNCgl3YXRjaDogew0KCQlpc0Nvbm5lY3RlZCgpIHsNCgkJCS8vIEhpZGUgZGlhbG9ncyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGludGVycnVwdGVkDQoJCQl0aGlzLnNob3dNZXNoRWRpdERpYWxvZyA9IGZhbHNlOw0KCQkJdGhpcy5tb3ZlU3RlcERpYWxvZy5zaG93biA9IGZhbHNlOw0KCQl9DQoJfQ0KfQ0K"},{"version":3,"sources":["MovementPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovementPanel.vue","sourceRoot":"src/components/panels","sourcesContent":["<style>\r\n.move-btn {\r\n\tpadding-left: 0 !important;\r\n\tpadding-right: 0 !important;\r\n\tmin-width: 0;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<v-card>\r\n\t\t<v-card-title>\r\n\t\t\t<code-btn v-show=\"visibleAxes.length\" color=\"info\" small code=\"G28\" :title=\"$t('button.home.titleAll')\" class=\"ml-0 hidden-sm-and-down\">\r\n\t\t\t\t{{ $t('button.home.captionAll') }}\r\n\t\t\t</code-btn>\r\n\r\n\t\t\t<v-spacer class=\"hidden-sm-and-down\"></v-spacer>\r\n\r\n\t\t\t<v-icon small class=\"mr-1\">mdi-swap-horizontal</v-icon> {{ $t('panel.movement.caption') }}\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-menu offset-y left :disabled=\"uiFrozen\">\r\n\t\t\t\t<template #activator=\"{ on }\">\r\n\t\t\t\t\t<v-btn v-show=\"visibleAxes.length\" color=\"info\" small class=\"mx-0\" :disabled=\"uiFrozen\" v-on=\"on\">\r\n\t\t\t\t\t\t{{ $t('panel.movement.compensation') }} <v-icon>mdi-menu-down</v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<v-card>\r\n\t\t\t\t\t<v-list>\r\n\t\t\t\t\t\t<template v-show=\"move.compensation\">\r\n\t\t\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t{{ $t('panel.movement.compensationInUse', [move.compensation.type]) }}\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\r\n\t\t\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<v-list-item @click=\"sendCode('G32')\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-format-vertical-align-center</v-icon> {{ $t(isDelta ? 'panel.movement.runDelta' : 'panel.movement.runBed') }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t<v-list-item :disabled=\"!move.compensation.type || move.compensation.type.indexOf('Point') === -1\" @click=\"sendCode('M561')\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-border-none</v-icon> {{ $t('panel.movement.disableBedCompensation') }} \r\n\t\t\t\t\t\t</v-list-item>\r\n\r\n\t\t\t\t\t\t<v-divider></v-divider>\r\n\r\n\t\t\t\t\t\t<v-list-item @click=\"sendCode('G29')\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-grid</v-icon> {{ $t('panel.movement.runMesh') }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t<v-list-item @click=\"showMeshEditDialog = true\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-pencil</v-icon> {{ $t('panel.movement.editMesh') }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t<v-list-item @click=\"sendCode('G29 S1')\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-content-save</v-icon> {{ $t('panel.movement.loadMesh') }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t<v-list-item :disabled=\"!isCompensationEnabled\" @click=\"sendCode('G29 S2')\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">mdi-grid-off</v-icon> {{ $t('panel.movement.disableMeshCompensation') }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-menu>\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-text v-show=\"visibleAxes.length\">\r\n\t\t\t<!-- Mobile home buttons -->\r\n\t\t\t<v-row class=\"hidden-md-and-up py-2\" no-gutters>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<code-btn color=\"info\" code=\"G28\" :title=\"$t('button.home.titleAll')\" block tile>\r\n\t\t\t\t\t\t{{ $t('button.home.captionAll') }}\r\n\t\t\t\t\t</code-btn>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<template v-if=\"!isDelta\">\r\n\t\t\t\t\t<v-col v-for=\"(axis, axisIndex) in visibleAxes\" :key=\"axisIndex\">\r\n\t\t\t\t\t\t<code-btn :color=\"axis.homed ? 'success' : 'warning'\" :disabled=\"uiFrozen\" :title=\"$t('button.home.title', [axis.letter])\" :code=\"`G28 ${axis.letter}`\" block tile>\r\n\r\n\t\t\t\t\t\t\t{{ $t('button.home.caption', [axis.letter]) }}\r\n\t\t\t\t\t\t</code-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</template>\r\n\t\t\t</v-row>\r\n\r\n\t\t\t<v-row v-for=\"(axis, axisIndex) in visibleAxes\" :key=\"axisIndex\" dense>\r\n\t\t\t\t<!-- Regular home buttons -->\r\n\t\t\t\t<v-col v-if=\"!isDelta\" cols=\"auto\" class=\"flex-shrink-1 hidden-sm-and-down\">\r\n\t\t\t\t\t<code-btn :color=\"axis.homed ? 'success' : 'warning'\" :disabled=\"uiFrozen\" :title=\"$t('button.home.title', [axis.letter])\" :code=\"`G28 ${axis.letter}`\" class=\"ml-0\">\r\n\r\n\t\t\t\t\t\t{{ $t('button.home.caption', [axis.letter]) }}\r\n\t\t\t\t\t</code-btn>\r\n\t\t\t\t</v-col>\r\n\r\n\t\t\t\t<!-- Decreasing movements -->\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t<v-col v-for=\"index in numMoveSteps\" :key=\"-index\"  :class=\"getMoveCellClass(index - 1)\">\r\n\t\t\t\t\t\t\t<code-btn :code=\"`M120\\nG91\\nG1 ${axis.letter}${-moveSteps(axis.letter)[index - 1]} F${moveFeedrate}\\nG90\\nM121`\" no-wait @contextmenu.prevent=\"showMoveStepDialog(axis.letter, index - 1)\" block tile class=\"move-btn\">\r\n\t\t\t\t\t\t\t\t<v-icon>mdi-chevron-left</v-icon> {{ axis.letter + showSign(-moveSteps(axis.letter)[index - 1]) }}\r\n\t\t\t\t\t\t\t</code-btn>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-col>\r\n\r\n\t\t\t\t<!-- Increasing movements -->\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t<v-col v-for=\"index in numMoveSteps\" :key=\"index\" :class=\"getMoveCellClass(numMoveSteps - index)\">\r\n\t\t\t\t\t\t\t<code-btn :code=\"`M120\\nG91\\nG1 ${axis.letter}${moveSteps(axis.letter)[numMoveSteps - index]} F${moveFeedrate}\\nG90\\nM121`\" no-wait @contextmenu.prevent=\"showMoveStepDialog(axis.letter, numMoveSteps - index)\" block tile class=\"move-btn\">\r\n\t\t\t\t\t\t\t\t{{ axis.letter + showSign(moveSteps(axis.letter)[numMoveSteps - index]) }} <v-icon>mdi-chevron-right</v-icon>\r\n\t\t\t\t\t\t\t</code-btn>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t</v-card-text>\r\n\r\n\t\t<mesh-edit-dialog :shown.sync=\"showMeshEditDialog\"></mesh-edit-dialog>\r\n\t\t<input-dialog :shown.sync=\"moveStepDialog.shown\" :title=\"$t('dialog.changeMoveStep.title')\" :prompt=\"$t('dialog.changeMoveStep.prompt')\" :preset=\"moveStepDialog.preset\" is-numeric-value @confirmed=\"moveStepDialogConfirmed\"></input-dialog>\r\n\r\n\t\t<v-alert :value=\"unhomedAxes.length !== 0\" type=\"warning\" class=\"mb-0\">\r\n\t\t\t{{ $tc('panel.movement.axesNotHomed', unhomedAxes.length) }}\r\n\t\t\t<strong>\r\n\t\t\t\t{{ unhomedAxes.map(axis => axis.letter).join(', ') }}\r\n\t\t\t</strong>\r\n\t\t</v-alert>\r\n\r\n\t\t<v-alert :value=\"visibleAxes.length === 0\" type=\"info\">\r\n\t\t\t{{ $t('panel.movement.noAxes') }}\r\n\t\t</v-alert>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex'\r\n\r\nimport { KinematicsName } from '../../store/machine/modelEnums.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapGetters(['isConnected', 'uiFrozen']),\r\n\t\t...mapState('machine/model', ['move']),\r\n\t\t...mapState('machine/settings', ['moveFeedrate']),\r\n\t\t...mapGetters('machine/settings', ['moveSteps', 'numMoveSteps']),\r\n\t\tisCompensationEnabled() { return this.move.compensation.type.toLowerCase() !== 'none' },\r\n\t\tvisibleAxes() { return this.move.axes.filter(axis => axis.visible); },\r\n\t\tisDelta() {\r\n\t\t\treturn ((this.move.kinematics.name === KinematicsName.delta) ||\r\n\t\t\t\t\t(this.move.kinematics.name === KinematicsName.rotaryDelta));\r\n\t\t},\r\n\t\tunhomedAxes() { return this.move.axes.filter(axis => axis.visible && !axis.homed); }\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowMeshEditDialog: false,\r\n\t\t\tmoveStepDialog: {\r\n\t\t\t\tshown: false,\r\n\t\t\t\taxis: 'X',\r\n\t\t\t\tindex: 0,\r\n\t\t\t\tpreset: 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['sendCode']),\r\n\t\t...mapMutations('machine/settings', ['setMoveStep']),\r\n\t\tgetMoveCellClass(index) {\r\n\t\t\tlet classes = '';\r\n\t\t\tif (index === 0 || index === 5) {\r\n\t\t\t\tclasses += 'hidden-lg-and-down';\r\n\t\t\t}\r\n\t\t\tif (index > 1 && index < 4 && index % 2 === 1) {\r\n\t\t\t\tclasses += 'hidden-md-and-down';\r\n\t\t\t}\r\n\t\t\treturn classes;\r\n\t\t},\r\n\t\tshowSign: (value) => (value > 0) ? `+${value}` : value,\r\n\t\tshowMoveStepDialog(axis, index) {\r\n\t\t\tthis.moveStepDialog.axis = axis;\r\n\t\t\tthis.moveStepDialog.index = index;\r\n\t\t\tthis.moveStepDialog.preset = this.moveSteps(this.moveStepDialog.axis)[this.moveStepDialog.index];\r\n\t\t\tthis.moveStepDialog.shown = true;\r\n\t\t},\r\n\t\tmoveStepDialogConfirmed(value) {\r\n\t\t\tthis.setMoveStep({ axis: this.moveStepDialog.axis, index: this.moveStepDialog.index, value });\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tisConnected() {\r\n\t\t\t// Hide dialogs when the connection is interrupted\r\n\t\t\tthis.showMeshEditDialog = false;\r\n\t\t\tthis.moveStepDialog.shown = false;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}