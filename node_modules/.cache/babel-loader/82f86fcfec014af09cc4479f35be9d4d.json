{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\utils\\path.js","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\utils\\path.js","mtime":1592248188765},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lKCkgewogIHZhciByZXN1bHQgPSAnJzsKICBBcnJheS5mcm9tKGFyZ3VtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7CiAgICBpZiAoYXJnLnN0YXJ0c1dpdGgoJy8nKSB8fCAvKFxkKSs6LiovLnRlc3QoYXJnKSkgewogICAgICBpZiAoYXJnLmVuZHNXaXRoKCcvJykpIHsKICAgICAgICByZXN1bHQgPSBhcmcuc3Vic3RyaW5nKDAsIGFyZy5sZW5ndGggLSAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSBhcmc7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChyZXN1bHQgIT09ICcnKSB7CiAgICAgICAgcmVzdWx0ICs9ICcvJzsKICAgICAgfQoKICAgICAgaWYgKGFyZy5lbmRzV2l0aCgnLycpKSB7CiAgICAgICAgcmVzdWx0ICs9IGFyZy5zdWJzdHJpbmcoMCwgYXJnLmxlbmd0aCAtIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHJlc3VsdCArPSBhcmc7CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gcmVzdWx0Owp9CmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikgewogIGlmIChhICYmIGIpIHsKICAgIGlmIChhLnN0YXJ0c1dpdGgoJy8nKSkgewogICAgICBhID0gJzA6JyArIGE7CiAgICB9CgogICAgaWYgKGEuZW5kc1dpdGgoJy8nKSkgewogICAgICBhID0gYS5zdWJzdHJpbmcoMCwgYS5sZW5ndGggLSAxKTsKICAgIH0KCiAgICBpZiAoYi5zdGFydHNXaXRoKCcvJykpIHsKICAgICAgYiA9ICcwOicgKyBiOwogICAgfQoKICAgIGlmIChiLmVuZHNXaXRoKCcvJykpIHsKICAgICAgYiA9IGIuc3Vic3RyaW5nKDAsIGIubGVuZ3RoIC0gMSk7CiAgICB9CiAgfQoKICByZXR1cm4gYSA9PT0gYjsKfQpleHBvcnQgZnVuY3Rpb24gZXh0cmFjdERpcmVjdG9yeShwYXRoKSB7CiAgaWYgKCFwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9CgogIGlmIChwYXRoLmluZGV4T2YoJy8nKSAhPT0gLTEpIHsKICAgIHZhciBpdGVtcyA9IHBhdGguc3BsaXQoJy8nKTsKICAgIGl0ZW1zLnBvcCgpOwogICAgcmV0dXJuIGl0ZW1zLmpvaW4oJy8nKTsKICB9CgogIGlmIChwYXRoLmluZGV4T2YoJ1xcJykgIT09IC0xKSB7CiAgICB2YXIgX2l0ZW1zID0gcGF0aC5zcGxpdCgnXFwnKTsKCiAgICBfaXRlbXMucG9wKCk7CgogICAgcmV0dXJuIF9pdGVtcy5qb2luKCdcXCcpOwogIH0KCiAgcmV0dXJuIHBhdGg7Cn0KZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RGaWxlTmFtZShwYXRoKSB7CiAgaWYgKCFwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9CgogIGlmIChwYXRoLmluZGV4T2YoJy8nKSAhPT0gLTEpIHsKICAgIHZhciBpdGVtcyA9IHBhdGguc3BsaXQoJy8nKTsKICAgIHJldHVybiBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXTsKICB9CgogIGlmIChwYXRoLmluZGV4T2YoJ1xcJykgIT09IC0xKSB7CiAgICB2YXIgX2l0ZW1zMiA9IHBhdGguc3BsaXQoJ1xcJyk7CgogICAgcmV0dXJuIF9pdGVtczJbX2l0ZW1zMi5sZW5ndGggLSAxXTsKICB9CgogIHJldHVybiBwYXRoOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRWb2x1bWUocGF0aCkgewogIGlmIChwYXRoKSB7CiAgICB2YXIgbWF0Y2hlcyA9IC8oXGQrKS4qLy5leGVjKHBhdGgpOwoKICAgIGlmIChtYXRjaGVzKSB7CiAgICAgIHJldHVybiBwYXJzZUludChtYXRjaGVzWzFdKTsKICAgIH0KICB9CgogIHJldHVybiAwOwp9CmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoKGEsIGIpIHsKICBpZiAoYSAmJiBiKSB7CiAgICBpZiAoYS5zdGFydHNXaXRoKCcvJykpIHsKICAgICAgYSA9ICcwOicgKyBhOwogICAgfQoKICAgIGlmIChhLmVuZHNXaXRoKCcvJykpIHsKICAgICAgYSA9IGEuc3Vic3RyaW5nKDAsIGEubGVuZ3RoIC0gMSk7CiAgICB9CgogICAgaWYgKGIuc3RhcnRzV2l0aCgnLycpKSB7CiAgICAgIGIgPSAnMDonICsgYjsKICAgIH0KCiAgICBpZiAoYi5lbmRzV2l0aCgnLycpKSB7CiAgICAgIGIgPSBiLnN1YnN0cmluZygwLCBiLmxlbmd0aCAtIDEpOwogICAgfQoKICAgIHJldHVybiBhLnN0YXJ0c1dpdGgoYik7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzR0NvZGVQYXRoKHBhdGgsIGdjb2Rlc0RpcikgewogIHBhdGggPSBwYXRoLnRvTG93ZXJDYXNlKCk7CiAgcmV0dXJuIHN0YXJ0c1dpdGgocGF0aCwgcGF0aE9iai5maXJtd2FyZSkgfHwgc3RhcnRzV2l0aChwYXRoLCBnY29kZXNEaXIpIHx8IHBhdGguZW5kc1dpdGgoJy5nJykgfHwgcGF0aC5lbmRzV2l0aCgnLmdjb2RlJykgfHwgcGF0aC5lbmRzV2l0aCgnLmdjJykgfHwgcGF0aC5lbmRzV2l0aCgnLmdjbycpIHx8IHBhdGguZW5kc1dpdGgoJy5uYycpIHx8IHBhdGguZW5kc1dpdGgoJy5uZ2MnKSB8fCBwYXRoLmVuZHNXaXRoKCcudGFwJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzU2RQYXRoKHBhdGgpIHsKICByZXR1cm4gc3RhcnRzV2l0aChwYXRoLCBwYXRoT2JqLmZpbGFtZW50cykgfHwgc3RhcnRzV2l0aChwYXRoLCBwYXRoT2JqLmZpcm13YXJlKSB8fCBzdGFydHNXaXRoKHBhdGgsIHBhdGhPYmouZ0NvZGVzKSB8fCBzdGFydHNXaXRoKHBhdGgsIHBhdGhPYmoubWFjcm9zKSB8fCBzdGFydHNXaXRoKHBhdGgsIHBhdGhPYmoubWVudSkgfHwgc3RhcnRzV2l0aChwYXRoLCBwYXRoT2JqLnNjYW5zKSB8fCBzdGFydHNXaXRoKHBhdGgsIHBhdGhPYmouc3lzdGVtKSB8fCBzdGFydHNXaXRoKHBhdGgsIHBhdGhPYmoud2ViKTsKfQpleHBvcnQgZnVuY3Rpb24gc3RyaXBNYWNyb0ZpbGVuYW1lKGZpbGVuYW1lKSB7CiAgdmFyIGxhYmVsID0gZmlsZW5hbWU7IC8vIFJlbW92ZSBHLWNvZGUgZmlsZSBlbmRpbmcgZnJvbSBuYW1lCgogIHZhciBtYXRjaCA9IGZpbGVuYW1lLm1hdGNoKC8oLiopXC4oZ3xnY3xnY29kZSkkL2kpOwoKICBpZiAobWF0Y2ggIT0gbnVsbCkgewogICAgbGFiZWwgPSBtYXRjaFsxXTsKICB9IC8vIFVzZXJzIG1heSB3YW50IHRvIGluZGV4IHRoZWlyIG1hY3Jvcywgc28gcmVtb3ZlIHN0YXJ0aW5nIG51bWJlcnMKCgogIG1hdGNoID0gbGFiZWwubWF0Y2goL15cZCtfKC4qKS8pOwoKICBpZiAobWF0Y2ggIT0gbnVsbCkgewogICAgbGFiZWwgPSBtYXRjaFsxXTsKICB9CgogIHJldHVybiBsYWJlbDsKfQp2YXIgcGF0aE9iaiA9IHsKICBmaWxhbWVudHM6ICcwOi9maWxhbWVudHMnLAogIGZpcm13YXJlOiAnMDovc3lzJywKICBnQ29kZXM6ICcwOi9nY29kZXMnLAogIG1hY3JvczogJzA6L21hY3JvcycsCiAgbWVudTogJzA6L21lbnUnLAogIHNjYW5zOiAnMDovc2NhbnMnLAogIHN5c3RlbTogJzA6L3N5cycsCiAgd2ViOiAnMDovd3d3JywKICBkd2NDYWNoZUZpbGU6ICcwOi9zeXMvZHdjMmNhY2hlLmpzb24nLAogIGR3Y0ZhY3RvcnlEZWZhdWx0czogJzA6L3N5cy9kd2MyZGVmYXVsdHMuanNvbicsCiAgZHdjU2V0dGluZ3NGaWxlOiAnMDovc3lzL2R3YzJzZXR0aW5ncy5qc29uJywKICBjb25maWdGaWxlOiAnY29uZmlnLmcnLAogIGNvbmZpZ0JhY2t1cEZpbGU6ICdjb25maWcuZy5iYWsnLAogIGhlaWdodG1hcEZpbGU6ICdoZWlnaHRtYXAuY3N2JywKICBjb21iaW5lOiBjb21iaW5lLAogIGVxdWFsczogZXF1YWxzLAogIGV4dHJhY3REaXJlY3Rvcnk6IGV4dHJhY3REaXJlY3RvcnksCiAgZXh0cmFjdEZpbGVOYW1lOiBleHRyYWN0RmlsZU5hbWUsCiAgZ2V0Vm9sdW1lOiBnZXRWb2x1bWUsCiAgc3RhcnRzV2l0aDogc3RhcnRzV2l0aCwKICBpc0dDb2RlUGF0aDogaXNHQ29kZVBhdGgsCiAgaXNTZFBhdGg6IGlzU2RQYXRoLAogIHN0cmlwTWFjcm9GaWxlbmFtZTogc3RyaXBNYWNyb0ZpbGVuYW1lCn07CmV4cG9ydCBkZWZhdWx0IHBhdGhPYmo7"},{"version":3,"sources":["C:/Users/jpatrick/Documents/GitHub/DuetWebControl_Fork/src/utils/path.js"],"names":["combine","result","Array","from","arguments","forEach","arg","startsWith","test","endsWith","substring","length","equals","a","b","extractDirectory","path","indexOf","items","split","pop","join","extractFileName","getVolume","matches","exec","parseInt","isGCodePath","gcodesDir","toLowerCase","pathObj","firmware","isSdPath","filaments","gCodes","macros","menu","scans","system","web","stripMacroFilename","filename","label","match","dwcCacheFile","dwcFactoryDefaults","dwcSettingsFile","configFile","configBackupFile","heightmapFile"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\nexport function combine() {\r\n\tlet result = '';\r\n\tArray.from(arguments).forEach(function(arg) {\r\n\t\tif (arg.startsWith('/') || /(\\d)+:.*/.test(arg)) {\r\n\t\t\tif (arg.endsWith('/')) {\r\n\t\t\t\tresult = arg.substring(0, arg.length - 1);\r\n\t\t\t} else {\r\n\t\t\t\tresult = arg;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (result !== '') {\r\n\t\t\t\tresult += '/';\r\n\t\t\t}\r\n\t\t\tif (arg.endsWith('/')) {\r\n\t\t\t\tresult += arg.substring(0, arg.length - 1);\r\n\t\t\t} else {\r\n\t\t\t\tresult += arg;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nexport function equals(a, b) {\r\n\tif (a && b) {\r\n\t\tif (a.startsWith('/')) {\r\n\t\t\ta = '0:' + a;\r\n\t\t}\r\n\t\tif (a.endsWith('/')) {\r\n\t\t\ta = a.substring(0, a.length - 1);\r\n\t\t}\r\n\t\tif (b.startsWith('/')) {\r\n\t\t\tb = '0:' + b;\r\n\t\t}\r\n\t\tif (b.endsWith('/')) {\r\n\t\t\tb = b.substring(0, b.length - 1);\r\n\t\t}\r\n\t}\r\n\treturn a === b;\r\n}\r\n\r\nexport function extractDirectory(path) {\r\n\tif (!path) {\r\n\t\treturn path;\r\n\t}\r\n\tif (path.indexOf('/') !== -1) {\r\n\t\tconst items = path.split('/');\r\n\t\titems.pop();\r\n\t\treturn items.join('/');\r\n\t}\r\n\tif (path.indexOf('\\\\') !== -1) {\r\n\t\tconst items = path.split('\\\\');\r\n\t\titems.pop();\r\n\t\treturn items.join('\\\\');\r\n\t}\r\n\treturn path;\r\n}\r\n\r\nexport function extractFileName(path) {\r\n\tif (!path) {\r\n\t\treturn path;\r\n\t}\r\n\tif (path.indexOf('/') !== -1) {\r\n\t\tconst items = path.split('/');\r\n\t\treturn items[items.length - 1];\r\n\t}\r\n\tif (path.indexOf('\\\\') !== -1) {\r\n\t\tconst items = path.split('\\\\');\r\n\t\treturn items[items.length - 1];\r\n\t}\r\n\treturn path;\r\n}\r\n\r\nexport function getVolume(path) {\r\n\tif (path) {\r\n\t\tconst matches = /(\\d+).*/.exec(path);\r\n\t\tif (matches) {\r\n\t\t\treturn parseInt(matches[1]);\r\n\t\t}\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nexport function startsWith(a, b) {\r\n\tif (a && b) {\r\n\t\tif (a.startsWith('/')) {\r\n\t\t\ta = '0:' + a;\r\n\t\t}\r\n\t\tif (a.endsWith('/')) {\r\n\t\t\ta = a.substring(0, a.length - 1);\r\n\t\t}\r\n\t\tif (b.startsWith('/')) {\r\n\t\t\tb = '0:' + b;\r\n\t\t}\r\n\t\tif (b.endsWith('/')) {\r\n\t\t\tb = b.substring(0, b.length - 1);\r\n\t\t}\r\n\t\treturn a.startsWith(b);\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nexport function isGCodePath(path, gcodesDir) {\r\n\tpath = path.toLowerCase();\r\n\treturn (startsWith(path, pathObj.firmware) || startsWith(path, gcodesDir) ||\r\n\t\t\tpath.endsWith('.g') || path.endsWith('.gcode') || path.endsWith('.gc') || path.endsWith('.gco') ||\r\n\t\t\tpath.endsWith('.nc') || path.endsWith('.ngc') || path.endsWith('.tap'));\r\n}\r\n\r\nexport function isSdPath(path) {\r\n\treturn (startsWith(path, pathObj.filaments) ||\r\n\t\t\tstartsWith(path, pathObj.firmware) ||\r\n\t\t\tstartsWith(path, pathObj.gCodes) ||\r\n\t\t\tstartsWith(path, pathObj.macros) ||\r\n\t\t\tstartsWith(path, pathObj.menu) ||\r\n\t\t\tstartsWith(path, pathObj.scans) ||\r\n\t\t\tstartsWith(path, pathObj.system) ||\r\n\t\t\tstartsWith(path, pathObj.web));\r\n}\r\n\r\nexport function stripMacroFilename(filename) {\r\n\tlet label = filename;\r\n\r\n\t// Remove G-code file ending from name\r\n\tlet match = filename.match(/(.*)\\.(g|gc|gcode)$/i);\r\n\tif (match != null) {\r\n\t\tlabel = match[1];\r\n\t}\r\n\r\n\t// Users may want to index their macros, so remove starting numbers\r\n\tmatch = label.match(/^\\d+_(.*)/);\r\n\tif (match != null) {\r\n\t\tlabel = match[1];\r\n\t}\r\n\r\n\treturn label;\r\n}\r\n\r\nconst pathObj = {\r\n\tfilaments: '0:/filaments',\r\n\tfirmware: '0:/sys',\r\n\tgCodes: '0:/gcodes',\r\n\tmacros: '0:/macros',\r\n\tmenu: '0:/menu',\r\n\tscans: '0:/scans',\r\n\tsystem: '0:/sys',\r\n\tweb: '0:/www',\r\n\r\n\tdwcCacheFile: '0:/sys/dwc2cache.json',\r\n\tdwcFactoryDefaults: '0:/sys/dwc2defaults.json',\r\n\tdwcSettingsFile: '0:/sys/dwc2settings.json',\r\n\r\n\tconfigFile: 'config.g',\r\n\tconfigBackupFile: 'config.g.bak',\r\n\theightmapFile: 'heightmap.csv',\r\n\r\n\tcombine,\r\n\tequals,\r\n\textractDirectory,\r\n\textractFileName,\r\n\tgetVolume,\r\n\tstartsWith,\r\n\r\n\tisGCodePath,\r\n\tisSdPath,\r\n\tstripMacroFilename\r\n}\r\n\r\nexport default pathObj\r\n"]}]}