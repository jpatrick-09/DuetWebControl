{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\lists\\SystemFileList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\lists\\SystemFileList.vue","mtime":1592248188545},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJ3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGgiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcVXNlcnNcXGpwYXRyaWNrXFxEb2N1bWVudHNcXEdpdEh1YlxcRHVldFdlYkNvbnRyb2xfRm9ya1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcanBhdHJpY2tcXERvY3VtZW50c1xcR2l0SHViXFxEdWV0V2ViQ29udHJvbF9Gb3JrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgaXNQcmludGluZyB9IGZyb20gJy4uLy4uL3N0b3JlL21hY2hpbmUvbW9kZWxFbnVtcy5qcyc7CmltcG9ydCBQYXRoIGZyb20gJy4uLy4uL3V0aWxzL3BhdGguanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtYWNoaW5lL21vZGVsJywgewogICAgc3lzdGVtRGlyZWN0b3J5OiBmdW5jdGlvbiBzeXN0ZW1EaXJlY3Rvcnkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRpcmVjdG9yaWVzLnN5c3RlbTsKICAgIH0sCiAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdGUuc3RhdHVzOwogICAgfQogIH0pLCB7fSwgbWFwR2V0dGVycyhbJ3VpRnJvemVuJ10pLCB7CiAgICBpc1Jvb3REaXJlY3Rvcnk6IGZ1bmN0aW9uIGlzUm9vdERpcmVjdG9yeSgpIHsKICAgICAgcmV0dXJuIFBhdGguZXF1YWxzKHRoaXMuZGlyZWN0b3J5LCB0aGlzLnN5c3RlbURpcmVjdG9yeSk7CiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpcmVjdG9yeTogUGF0aC5zeXN0ZW0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3Rpb246IFtdLAogICAgICBzaG93TmV3RGlyZWN0b3J5OiBmYWxzZSwKICAgICAgc2hvd05ld0ZpbGU6IGZhbHNlLAogICAgICBzaG93UmVzZXRQcm9tcHQ6IGZhbHNlLAogICAgICBmYWI6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnbWFjaGluZScsIFsnZG93bmxvYWQnLCAnc2VuZENvZGUnXSksIHsKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZWxpc3QucmVmcmVzaCgpOwogICAgfSwKICAgIGZpbGVDbGlja2VkOiBmdW5jdGlvbiBmaWxlQ2xpY2tlZChpdGVtKSB7CiAgICAgIGlmIChpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLmJpbicpKSB7CiAgICAgICAgdGhpcy4kcmVmcy5maWxlbGlzdC5kb3dubG9hZChpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLmZpbGVsaXN0LmVkaXQoaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBmaWxlRWRpdGVkOiBmdW5jdGlvbiBmaWxlRWRpdGVkKGZpbGVuYW1lKSB7CiAgICAgIGlmICghaXNQcmludGluZyh0aGlzLnN0YXR1cykgJiYgKFBhdGguZXF1YWxzKGZpbGVuYW1lLCBQYXRoLmNvbWJpbmUodGhpcy5zeXN0ZW1EaXJlY3RvcnksIFBhdGguY29uZmlnRmlsZSkpIHx8IFBhdGguZXF1YWxzKGZpbGVuYW1lLCAnMDovc3lzL2JvYXJkLnR4dCcpKSkgewogICAgICAgIC8vIEFzayBmb3IgZmlybXdhcmUgcmVzZXQgd2hlbiBjb25maWcuZyBvciAwOi9zeXMvYm9hcmQudHh0IChSUkYgb24gTFBDKSBoYXMgYmVlbiBlZGl0ZWQKICAgICAgICB0aGlzLnNob3dSZXNldFByb21wdCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByZXNldEJvYXJkOiBmdW5jdGlvbiByZXNldEJvYXJkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNlbmRDb2RlKHsKICAgICAgICAgICAgICAgICAgY29kZTogJ005OTknLAogICAgICAgICAgICAgICAgICBsb2c6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXRDb25maWdUZW1wbGF0ZTogZnVuY3Rpb24gZWRpdENvbmZpZ1RlbXBsYXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBqc29uVGVtcGxhdGUsIGZvcm0sIGpzb25UZW1wbGF0ZUlucHV0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmRvd25sb2FkKHsKICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IFBhdGguY29tYmluZShfdGhpczIuc3lzdGVtRGlyZWN0b3J5LCAnY29uZmlnLmpzb24nKSwKICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAganNvblRlbXBsYXRlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICAgICAgICAgICAgZm9ybS5tZXRob2QgPSAnUE9TVCc7CiAgICAgICAgICAgICAgICBmb3JtLmFjdGlvbiA9ICdodHRwczovL2NvbmZpZ3Rvb2wucmVwcmFwZmlybXdhcmUub3JnL2xvYWQucGhwJzsKICAgICAgICAgICAgICAgIGZvcm0udGFyZ2V0ID0gJ19ibGFuayc7CiAgICAgICAgICAgICAgICBqc29uVGVtcGxhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7CiAgICAgICAgICAgICAgICBqc29uVGVtcGxhdGVJbnB1dC5uYW1lID0gJ2pzb24nOwogICAgICAgICAgICAgICAganNvblRlbXBsYXRlSW5wdXQudmFsdWUgPSBqc29uVGVtcGxhdGU7CiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGpzb25UZW1wbGF0ZUlucHV0KTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7CiAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwbG9hZENvbXBsZXRlOiBmdW5jdGlvbiB1cGxvYWRDb21wbGV0ZShmaWxlcykgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGZpbGVzW2ldLm5hbWUgPT09IFBhdGguY29uZmlnRmlsZSkgewogICAgICAgICAgdGhpcy5zaG93UmVzZXRQcm9tcHQgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZGlyZWN0b3J5ID0gdGhpcy5zeXN0ZW1EaXJlY3Rvcnk7CiAgfSwKICB3YXRjaDogewogICAgc3lzdGVtRGlyZWN0b3J5OiBmdW5jdGlvbiBzeXN0ZW1EaXJlY3RvcnkodG8sIGZyb20pIHsKICAgICAgaWYgKFBhdGguZXF1YWxzKHRoaXMuZGlyZWN0b3J5LCBmcm9tKSB8fCBQYXRoLmdldFZvbHVtZShmcm9tKSAhPT0gUGF0aC5nZXRWb2x1bWUodG8pKSB7CiAgICAgICAgdGhpcy5kaXJlY3RvcnkgPSB0bzsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["SystemFileList.vue"],"names":[],"mappings":"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","sourcesContent":["<style scoped>\r\n.pointer-cursor {\r\n\tcursor: pointer;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<div class=\"component\">\r\n\t\t<v-toolbar>\r\n\t\t\t<directory-breadcrumbs v-model=\"directory\"></directory-breadcrumbs>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" :disabled=\"uiFrozen\" @click=\"showNewFile = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-file-plus</v-icon> {{ $t('button.newFile.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" :disabled=\"uiFrozen\" @click=\"showNewDirectory = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-folder-plus</v-icon> {{ $t('button.newDirectory.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" color=\"info\" :loading=\"loading\" :disabled=\"uiFrozen\" @click=\"refresh\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-refresh</v-icon> {{ $t('button.refresh.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<upload-btn class=\"hidden-sm-and-down\" :directory=\"directory\" target=\"system\" color=\"success\" @uploadComplete=\"uploadComplete\"></upload-btn>\r\n\t\t</v-toolbar>\r\n\t\t\r\n\t\t<base-file-list ref=\"filelist\" v-model=\"selection\" :directory.sync=\"directory\" :loading.sync=\"loading\" sort-table=\"sys\" @fileClicked=\"fileClicked\" @fileEdited=\"fileEdited\" no-files-text=\"list.system.noFiles\">\r\n\t\t\t<template #file.config.json v-if=\"isRootDirectory\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-wrench</v-icon> config.json\r\n\t\t\t\t<v-chip @click.stop=\"editConfigTemplate\" class=\"pointer-cursor ml-2\"><v-icon xs class=\"mr-1\">mdi-open-in-new</v-icon> {{ $t('list.system.configToolNote') }}</v-chip>\r\n\t\t\t</template>\r\n\t\t</base-file-list>\r\n\t\t\r\n\t\t<v-speed-dial v-model=\"fab\" bottom right fixed direction=\"top\" transition=\"scale-transition\" class=\"hidden-md-and-up\">\r\n\t\t\t<template #activator>\r\n\t\t\t\t<v-btn v-model=\"fab\" dark color=\"primary\" fab>\r\n\t\t\t\t\t<v-icon v-if=\"fab\">mdi-close</v-icon>\r\n\t\t\t\t\t<v-icon v-else>mdi-dots-vertical</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t</template>\r\n\r\n\t\t\t<v-btn fab :disabled=\"uiFrozen\" @click=\"showNewFile = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-file-plus</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<v-btn fab :disabled=\"uiFrozen\" @click=\"showNewDirectory = true\">\r\n\t\t\t\t<v-icon>mdi-folder-plus</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<v-btn fab color=\"info\" :loading=\"loading\" :disabled=\"uiFrozen\" @click=\"refresh\">\r\n\t\t\t\t<v-icon>mdi-refresh</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<upload-btn fab dark :directory=\"directory\" target=\"system\" color=\"success\" @uploadComplete=\"uploadComplete\">\r\n\t\t\t\t<v-icon>mdi-cloud-upload</v-icon>\r\n\t\t\t</upload-btn>\r\n\t\t</v-speed-dial>\r\n\r\n\t\t<new-directory-dialog :shown.sync=\"showNewDirectory\" :directory=\"directory\"></new-directory-dialog>\r\n\t\t<new-file-dialog :shown.sync=\"showNewFile\" :directory=\"directory\"></new-file-dialog>\r\n\t\t<confirm-dialog :shown.sync=\"showResetPrompt\" :title=\"$t('dialog.configUpdated.title')\" :prompt=\"$t('dialog.configUpdated.prompt')\" @confirmed=\"resetBoard\"></confirm-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\n\r\nimport { isPrinting } from '../../store/machine/modelEnums.js'\r\nimport Path from '../../utils/path.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState('machine/model', {\r\n\t\t\tsystemDirectory: state => state.directories.system,\r\n\t\t\tstatus: state => state.state.status\r\n\t\t}),\r\n\t\t...mapGetters(['uiFrozen']),\r\n\t\tisRootDirectory() { return Path.equals(this.directory, this.systemDirectory); }\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdirectory: Path.system,\r\n\t\t\tloading: false,\r\n\t\t\tselection: [],\r\n\t\t\tshowNewDirectory: false,\r\n\t\t\tshowNewFile: false,\r\n\t\t\tshowResetPrompt: false,\r\n\t\t\tfab: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['download', 'sendCode']),\r\n\t\trefresh() {\r\n\t\t\tthis.$refs.filelist.refresh();\r\n\t\t},\r\n\t\tfileClicked(item) {\r\n\t\t\tif (item.name.toLowerCase().endsWith('.bin')) {\r\n\t\t\t\tthis.$refs.filelist.download(item);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$refs.filelist.edit(item);\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileEdited(filename) {\r\n\t\t\tif (!isPrinting(this.status) &&\r\n\t\t\t\t(Path.equals(filename, Path.combine(this.systemDirectory, Path.configFile)) || Path.equals(filename, '0:/sys/board.txt'))) {\r\n\t\t\t\t// Ask for firmware reset when config.g or 0:/sys/board.txt (RRF on LPC) has been edited\r\n\t\t\t\tthis.showResetPrompt = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync resetBoard() {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.sendCode({ code: 'M999', log: false });\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// this is expected\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync editConfigTemplate() {\r\n\t\t\tconst jsonTemplate = await this.download({ filename: Path.combine(this.systemDirectory, 'config.json'), type: 'text' });\r\n\r\n\t\t\tconst form = document.createElement('form');\r\n\t\t\tform.method = 'POST';\r\n\t\t\tform.action = 'https://configtool.reprapfirmware.org/load.php';\r\n\t\t\tform.target = '_blank';\r\n\t\t\t{\r\n\t\t\t\tconst jsonTemplateInput = document.createElement('textarea');\r\n\t\t\t\tjsonTemplateInput.name = 'json';\r\n\t\t\t\tjsonTemplateInput.value = jsonTemplate;\r\n\t\t\t\tform.appendChild(jsonTemplateInput);\r\n\t\t\t}\r\n\t\t\tdocument.body.appendChild(form);\r\n\t\t\tform.submit();\r\n\t\t\tdocument.body.removeChild(form);\r\n\t\t},\r\n\t\tuploadComplete(files) {\r\n\t\t\tfor (let i = 0; i < files.length; i++) {\r\n\t\t\t\tif (files[i].name === Path.configFile) {\r\n\t\t\t\t\tthis.showResetPrompt = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.directory = this.systemDirectory;\r\n\t},\r\n\twatch: {\r\n\t\tsystemDirectory(to, from) {\r\n\t\t\tif (Path.equals(this.directory, from) || Path.getVolume(from) !== Path.getVolume(to)) {\r\n\t\t\t\tthis.directory = to;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/lists"}]}