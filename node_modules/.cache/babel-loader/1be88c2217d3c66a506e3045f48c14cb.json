{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\utils\\csv.js","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\utils\\csv.js","mtime":1592248188745},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzpcXFVzZXJzXFxqcGF0cmlja1xcRG9jdW1lbnRzXFxHaXRIdWJcXER1ZXRXZWJDb250cm9sX0ZvcmtcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXGpwYXRyaWNrXFxEb2N1bWVudHNcXEdpdEh1YlxcRHVldFdlYkNvbnRyb2xfRm9ya1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxVc2Vyc1xcanBhdHJpY2tcXERvY3VtZW50c1xcR2l0SHViXFxEdWV0V2ViQ29udHJvbF9Gb3JrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgQ1NWID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDU1YoY29udGVudCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENTVik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJoZWFkZXJzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY29udGVudCIsIFtdKTsKCiAgICB2YXIgcm93ID0gMCwKICAgICAgICBjb2wgPSAwLAogICAgICAgIGluUXVvdGUgPSBmYWxzZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGNoYXIgPSBjb250ZW50W2ldLAogICAgICAgICAgbmV4dENoYXIgPSBjb250ZW50W2kgKyAxXTsgLy8gTWFrZSBzdXJlIHdlIGhhdmUgZW5vdWdoIHJvd3MrY29scwoKICAgICAgaWYgKHJvdyA9PT0gMCkgewogICAgICAgIGlmICh0aGlzLmhlYWRlcnMubGVuZ3RoIDw9IGNvbCkgewogICAgICAgICAgdGhpcy5oZWFkZXJzLnB1c2goJycpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCA8IHJvdykgewogICAgICAgICAgdGhpcy5jb250ZW50LnB1c2goW10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuY29udGVudFtyb3cgLSAxXS5sZW5ndGggPD0gY29sKSB7CiAgICAgICAgICB0aGlzLmNvbnRlbnRbcm93IC0gMV0ucHVzaCgnJyk7CiAgICAgICAgfQogICAgICB9IC8vIERlYWwgd2l0aCBlc2NhcGVkIHF1b3RlcwoKCiAgICAgIGlmIChpblF1b3RlICYmIGNoYXIgPT09ICciJyAmJiBuZXh0Q2hhciA9PT0gJyInKSB7CiAgICAgICAgaWYgKHJvdyA9PT0gMCkgewogICAgICAgICAgdGhpcy5oZWFkZXJzW2NvbF0gKz0gY2hhcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb250ZW50W3JvdyAtIDFdW2NvbF0gKz0gY2hhcjsKICAgICAgICB9CgogICAgICAgIGkrKzsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBEZWFsIHdpdGggdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIGZpZWxkCgoKICAgICAgaWYgKGNoYXIgPT09ICciJykgewogICAgICAgIGluUXVvdGUgPSAhaW5RdW90ZTsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBDaGVjayBpZiB3ZSBjYW4gbW92ZSBvbiB0byB0aGUgbmV4dCBmaWVsZAoKCiAgICAgIGlmIChjaGFyID09PSAnLCcgJiYgIWluUXVvdGUpIHsKICAgICAgICBjb2wrKzsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBDaGVjayBpZiB3ZSBjYW4gbW92ZSBvbiB0byB0aGUgbmV4dCByb3cKCgogICAgICBpZiAoY2hhciA9PT0gJ1xuJyAmJiAhaW5RdW90ZSkgewogICAgICAgIHRoaXMuY29udGVudC5wdXNoKFtdKTsKICAgICAgICBjb2wgPSAwOwogICAgICAgICsrcm93OwogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIE90aGVyd2lzZSBhcHBlbmQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyCgoKICAgICAgaWYgKHJvdyA9PT0gMCkgewogICAgICAgIHRoaXMuaGVhZGVyc1tjb2xdICs9IGNoYXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb250ZW50W3JvdyAtIDFdW2NvbF0gKz0gY2hhcjsKICAgICAgfQogICAgfQogIH0KCiAgX2NyZWF0ZUNsYXNzKENTViwgW3sKICAgIGtleTogImdldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGZpZWxkTmFtZSkgewogICAgICB2YXIgcm93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgICB2YXIgaW5kZXggPSB0aGlzLmhlYWRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChoZWFkZXIpIHsKICAgICAgICByZXR1cm4gaGVhZGVyID09PSBmaWVsZE5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbcm93XVtpbmRleF07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ1NWOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBDU1Y7"},{"version":3,"sources":["C:/Users/jpatrick/Documents/GitHub/DuetWebControl_Fork/src/utils/csv.js"],"names":["CSV","content","row","col","inQuote","i","length","char","nextChar","headers","push","fieldName","index","findIndex","header","undefined"],"mappings":"AAAA;;;;;;;IAEMA,G;AAIL,eAAYC,OAAZ,EAAqB;AAAA;;AAAA,qCAHX,EAGW;;AAAA,qCAFX,EAEW;;AACpB,QAAIC,GAAG,GAAG,CAAV;AAAA,QAAaC,GAAG,GAAG,CAAnB;AAAA,QAAsBC,OAAO,GAAG,KAAhC;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACK,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACxC,UAAME,IAAI,GAAGN,OAAO,CAACI,CAAD,CAApB;AAAA,UAAyBG,QAAQ,GAAGP,OAAO,CAACI,CAAC,GAAG,CAAL,CAA3C,CADwC,CAGxC;;AACA,UAAIH,GAAG,KAAK,CAAZ,EAAe;AACd,YAAI,KAAKO,OAAL,CAAaH,MAAb,IAAuBH,GAA3B,EAAgC;AAC/B,eAAKM,OAAL,CAAaC,IAAb,CAAkB,EAAlB;AACA;AACD,OAJD,MAIO;AACN,YAAI,KAAKT,OAAL,CAAaK,MAAb,GAAsBJ,GAA1B,EAA+B;AAC9B,eAAKD,OAAL,CAAaS,IAAb,CAAkB,EAAlB;AACA;;AACD,YAAI,KAAKT,OAAL,CAAaC,GAAG,GAAG,CAAnB,EAAsBI,MAAtB,IAAgCH,GAApC,EAAyC;AACxC,eAAKF,OAAL,CAAaC,GAAG,GAAG,CAAnB,EAAsBQ,IAAtB,CAA2B,EAA3B;AACA;AACD,OAfuC,CAiBxC;;;AACA,UAAIN,OAAO,IAAIG,IAAI,KAAK,GAApB,IAA2BC,QAAQ,KAAK,GAA5C,EAAiD;AAChD,YAAIN,GAAG,KAAK,CAAZ,EAAe;AACd,eAAKO,OAAL,CAAaN,GAAb,KAAqBI,IAArB;AACA,SAFD,MAEO;AACN,eAAKN,OAAL,CAAaC,GAAG,GAAG,CAAnB,EAAsBC,GAAtB,KAA8BI,IAA9B;AACA;;AACDF,QAAAA,CAAC;AACD;AACA,OA1BuC,CA4BxC;;;AACA,UAAIE,IAAI,KAAK,GAAb,EAAkB;AACjBH,QAAAA,OAAO,GAAG,CAACA,OAAX;AACA;AACA,OAhCuC,CAkCxC;;;AACA,UAAIG,IAAI,KAAK,GAAT,IAAgB,CAACH,OAArB,EAA8B;AAC7BD,QAAAA,GAAG;AACH;AACA,OAtCuC,CAwCxC;;;AACA,UAAII,IAAI,KAAK,IAAT,IAAiB,CAACH,OAAtB,EAA+B;AAC9B,aAAKH,OAAL,CAAaS,IAAb,CAAkB,EAAlB;AACAP,QAAAA,GAAG,GAAG,CAAN;AACA,UAAED,GAAF;AACA;AACA,OA9CuC,CAgDxC;;;AACA,UAAIA,GAAG,KAAK,CAAZ,EAAe;AACd,aAAKO,OAAL,CAAaN,GAAb,KAAqBI,IAArB;AACA,OAFD,MAEO;AACN,aAAKN,OAAL,CAAaC,GAAG,GAAG,CAAnB,EAAsBC,GAAtB,KAA8BI,IAA9B;AACA;AACD;AACD;;;;wBAEGI,S,EAAoB;AAAA,UAATT,GAAS,uEAAH,CAAG;AACvB,UAAMU,KAAK,GAAG,KAAKH,OAAL,CAAaI,SAAb,CAAuB,UAAAC,MAAM;AAAA,eAAIA,MAAM,KAAKH,SAAf;AAAA,OAA7B,CAAd;;AACA,UAAIC,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjB,eAAOG,SAAP;AACA;;AACD,aAAO,KAAKd,OAAL,CAAaC,GAAb,EAAkBU,KAAlB,CAAP;AACA;;;;;;AAGF,eAAeZ,GAAf","sourcesContent":["'use strict'\r\n\r\nclass CSV {\r\n\theaders = []\r\n\tcontent = []\r\n\r\n\tconstructor(content) {\r\n\t\tlet row = 0, col = 0, inQuote = false;\r\n\t\tfor (let i = 0; i < content.length; i++) {\r\n\t\t\tconst char = content[i], nextChar = content[i + 1];\r\n\r\n\t\t\t// Make sure we have enough rows+cols\r\n\t\t\tif (row === 0) {\r\n\t\t\t\tif (this.headers.length <= col) {\r\n\t\t\t\t\tthis.headers.push('');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.content.length < row) {\r\n\t\t\t\t\tthis.content.push([]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.content[row - 1].length <= col) {\r\n\t\t\t\t\tthis.content[row - 1].push('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Deal with escaped quotes\r\n\t\t\tif (inQuote && char === '\"' && nextChar === '\"') {\r\n\t\t\t\tif (row === 0) {\r\n\t\t\t\t\tthis.headers[col] += char;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.content[row - 1][col] += char;\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Deal with the start or end of a field\r\n\t\t\tif (char === '\"') {\r\n\t\t\t\tinQuote = !inQuote;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if we can move on to the next field\r\n\t\t\tif (char === ',' && !inQuote) {\r\n\t\t\t\tcol++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if we can move on to the next row\r\n\t\t\tif (char === '\\n' && !inQuote) {\r\n\t\t\t\tthis.content.push([]);\r\n\t\t\t\tcol = 0;\r\n\t\t\t\t++row;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise append the current character\r\n\t\t\tif (row === 0) {\r\n\t\t\t\tthis.headers[col] += char;\r\n\t\t\t} else {\r\n\t\t\t\tthis.content[row - 1][col] += char;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget(fieldName, row = 0) {\r\n\t\tconst index = this.headers.findIndex(header => header === fieldName);\r\n\t\tif (index === -1) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn this.content[row][index];\r\n\t}\r\n}\r\n\r\nexport default CSV\r\n"]}]}