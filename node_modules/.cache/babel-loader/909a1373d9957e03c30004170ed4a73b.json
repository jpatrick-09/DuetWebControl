{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\plugins\\toast.js","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\plugins\\toast.js","mtime":1592248188628},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgaXppVG9hc3QgZnJvbSAnaXppdG9hc3QnOwppbXBvcnQgJ2l6aXRvYXN0L2Rpc3QvY3NzL2l6aVRvYXN0LmNzcyc7CmltcG9ydCB7IGRpc3BsYXlTcGVlZCB9IGZyb20gJy4vZGlzcGxheS5qcyc7CmltcG9ydCBpMThuIGZyb20gJy4uL2kxOG4nOwppbXBvcnQgeyBleHRyYWN0RmlsZU5hbWUgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJzsKdmFyIGRlZmF1bHRzID0gewogIGxheW91dDogMiwKICB0cmFuc2l0aW9uSW46ICdmYWRlSW5MZWZ0JywKICB0cmFuc2l0aW9uT3V0OiAnZmFkZU91dFJpZ2h0Jwp9Owp2YXIgc2V0dGluZ3MsCiAgICBvcGVuTm90aWZpY2F0aW9ucyA9IFtdOwpleHBvcnQgZnVuY3Rpb24gbWFrZU5vdGlmaWNhdGlvbih0eXBlLCB0aXRsZSwgbWVzc2FnZSwgdGltZW91dCkgewogIGlmICh0aW1lb3V0ID09PSB1bmRlZmluZWQpIHsKICAgIHRpbWVvdXQgPSB0eXBlID09PSAnZXJyb3InICYmIHNldHRpbmdzLmVycm9yc1BlcnNpc3RlbnQgPyAwIDogc2V0dGluZ3MudGltZW91dDsKICB9IC8vIElmIHRoZXJlIGlzIGFscmVhZHkgYW4gZXF1YWwgbm90aWZpY2F0aW9uLCByZXNldCBpdHMgdGltZSBhbmQgZG9uJ3QgZGlzcGxheSBhIG5ldyBvbmUKCgogIHZhciBlcXVhbE5vdGlmaWNhdGlvbiA9IG9wZW5Ob3RpZmljYXRpb25zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtLnR5cGUgPT09IHR5cGUgJiYgaXRlbS50aXRsZSA9PSB0aXRsZSAmJiBpdGVtLm1lc3NhZ2UgPT09IG1lc3NhZ2U7CiAgfSk7CgogIGlmIChlcXVhbE5vdGlmaWNhdGlvbikgewogICAgaWYgKHRpbWVvdXQgPiAwKSB7CiAgICAgIGVxdWFsTm90aWZpY2F0aW9uLnJlc2V0VGltZW91dCgpOwogICAgfQoKICAgIHJldHVybiBlcXVhbE5vdGlmaWNhdGlvbjsKICB9IC8vIFByZXBhcmUgYW5kIHNob3cgbmV3IHRvYXN0CgoKICB2YXIgaXRlbSA9IHt9LAogICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7CiAgICBjbGFzczogJ25ldy10b2FzdCcsCiAgICB0aXRsZTogdGl0bGUucmVwbGFjZSgvXG4vZywgJzxicj4nKSwKICAgIG1lc3NhZ2U6IG1lc3NhZ2UgPyBtZXNzYWdlLnJlcGxhY2UoL1xuL2csICc8YnI+JykgOiAnJywKICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiBvbkNsb3NlZCgpIHsKICAgICAgb3Blbk5vdGlmaWNhdGlvbnMgPSBvcGVuTm90aWZpY2F0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikgewogICAgICAgIHJldHVybiBub3RpZmljYXRpb24gIT09IGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIHRpbWVvdXQ6IHRpbWVvdXQKICB9LCBkZWZhdWx0cyk7CgogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnaW5mbyc6CiAgICAgIGl6aVRvYXN0LmluZm8ob3B0aW9ucyk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3N1Y2Nlc3MnOgogICAgICBpemlUb2FzdC5zdWNjZXNzKG9wdGlvbnMpOwogICAgICBicmVhazsKCiAgICBjYXNlICd3YXJuaW5nJzoKICAgICAgaXppVG9hc3Qud2FybmluZyhvcHRpb25zKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnZXJyb3InOgogICAgICBpemlUb2FzdC5lcnJvcihvcHRpb25zKTsKICAgICAgYnJlYWs7CiAgfSAvLyBHZXQgdGhlIG5ldyB0b2FzdCBpbnN0YW5jZSAoaXppVG9hc3QgZG9lcyBub3QgcmV0dXJuIGl0KQoKCiAgdmFyIHRvYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy10b2FzdCcpOwogIHRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ25ldy10b2FzdCcpOyAvLyBGaXggbGF5b3V0IG9mIHRoZSBjcmVhdGVkIHRvYXN0IChieSBkZWZhdWx0IGxheW91dCAyIHRvYXN0cyBhcmUgdG9vIHdpZGUpCgogIGlmIChtZXNzYWdlKSB7CiAgICB2YXIgbWVzc2FnZUVsZW1lbnQgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCdwLml6aVRvYXN0LW1lc3NhZ2UnKTsKICAgIG1lc3NhZ2VFbGVtZW50LnN0eWxlLndpZHRoID0gJ2F1dG8nOwogICAgbWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSwgbWVzc2FnZUVsZW1lbnQpOwogIH0KCiAgaXRlbS50eXBlID0gdHlwZTsKICBpdGVtLnRpdGxlID0gdGl0bGU7CiAgaXRlbS5tZXNzYWdlID0gbWVzc2FnZTsKICBpdGVtLnRpbWVvdXQgPSB0aW1lb3V0OwogIGl0ZW0uZG9tRWxlbWVudCA9IHRvYXN0OwoKICBpdGVtLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICBpemlUb2FzdC5oaWRlKHt9LCB0b2FzdCk7CiAgICBvcGVuTm90aWZpY2F0aW9ucyA9IG9wZW5Ob3RpZmljYXRpb25zLmZpbHRlcihmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7CiAgICAgIHJldHVybiBub3RpZmljYXRpb24gIT09IGl0ZW07CiAgICB9KTsKICB9OwoKICBpdGVtLnJlc2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIGl6aVRvYXN0LnByb2dyZXNzKG9wdGlvbnMsIHRvYXN0KS5yZXNldCgpOwogICAgc2V0VGltZW91dChpemlUb2FzdC5wcm9ncmVzcyhvcHRpb25zLCB0b2FzdCkuc3RhcnQsIDEwMCk7CiAgfTsKCiAgb3Blbk5vdGlmaWNhdGlvbnMucHVzaChpdGVtKTsKICByZXR1cm4gaXRlbTsKfQpleHBvcnQgZnVuY3Rpb24gbWFrZUZpbGVUcmFuc2Zlck5vdGlmaWNhdGlvbih0eXBlLCBkZXN0aW5hdGlvbiwgY2FuY2VsbGF0aW9uVG9rZW4sIG51bSwgY291bnQpIHsKICB2YXIgZmlsZW5hbWUgPSBleHRyYWN0RmlsZU5hbWUoZGVzdGluYXRpb24pLAogICAgICB0aXRsZVByZWZpeCA9IGNvdW50ID8gIigiLmNvbmNhdChudW0sICIvIikuY29uY2F0KGNvdW50LCAiKSAiKSA6ICcnOyAvLyBQcmVwYXJlIHRvYXN0CgogIGl6aVRvYXN0LmluZm8oewogICAgY2xhc3M6ICdmaWxlLXRyYW5zZmVyJywKICAgIHRpdGxlOiB0aXRsZVByZWZpeCArIGkxOG4udCgibm90aWZpY2F0aW9uLiIuY29uY2F0KHR5cGUsICIudGl0bGUiKSwgW2ZpbGVuYW1lLCBkaXNwbGF5U3BlZWQoMCksIDBdKSwKICAgIG1lc3NhZ2U6IGkxOG4udCgibm90aWZpY2F0aW9uLiIuY29uY2F0KHR5cGUsICIubWVzc2FnZSIpKSwKICAgIGxheW91dDogMiwKICAgIHRpbWVvdXQ6IGZhbHNlLAogICAgb25DbG9zaW5nOiBmdW5jdGlvbiBvbkNsb3NpbmcoKSB7CiAgICAgIHJldHVybiBjYW5jZWxsYXRpb25Ub2tlbi5jYW5jZWwoKTsKICAgIH0KICB9KTsgLy8gR2V0IGl0IGFuZCBmaXggdXAgdGhlIGxheW91dAoKICB2YXIgdG9hc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsZS10cmFuc2ZlcicpOwogIHRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbGUtdHJhbnNmZXInKTsKICB2YXIgbWVzc2FnZUVsZW1lbnQgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCdwLml6aVRvYXN0LW1lc3NhZ2UnKTsKICBtZXNzYWdlRWxlbWVudC5zdHlsZS53aWR0aCA9ICdhdXRvJzsKICBtZXNzYWdlRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpLCBtZXNzYWdlRWxlbWVudCk7IC8vIEdldCBwcm9ncmVzcyBiYXIKCiAgdmFyIHRpdGxlID0gdG9hc3QucXVlcnlTZWxlY3Rvcignc3Ryb25nLml6aVRvYXN0LXRpdGxlJyk7CiAgdmFyIHByb2dyZXNzQmFyID0gdG9hc3QucXVlcnlTZWxlY3RvcignZGl2Lml6aVRvYXN0LXByb2dyZXNzYmFyID4gZGl2Jyk7CiAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSAnMCUnOyAvLyBSZXR1cm4gb2JqZWN0IHdpdGggZW5vdWdoIGluZm8gYWJvdXQgaXQKCiAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgcmV0dXJuIHsKICAgIGRvbUVsZW1lbnQ6IHRvYXN0LAogICAgb25Qcm9ncmVzczogZnVuY3Rpb24gb25Qcm9ncmVzcyhsb2FkZWQsIHRvdGFsKSB7CiAgICAgIHZhciB1cGxvYWRTcGVlZCA9IGxvYWRlZCAvICgobmV3IERhdGUoKSAtIHN0YXJ0VGltZSkgLyAxMDAwKSwKICAgICAgICAgIHByb2dyZXNzID0gbG9hZGVkIC8gdG90YWwgKiAxMDA7CiAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGl0bGVQcmVmaXggKyBpMThuLnQoIm5vdGlmaWNhdGlvbi4iLmNvbmNhdCh0eXBlLCAiLnRpdGxlIiksIFtmaWxlbmFtZSwgZGlzcGxheVNwZWVkKHVwbG9hZFNwZWVkKSwgTWF0aC5yb3VuZChwcm9ncmVzcyldKTsKICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBwcm9ncmVzcy50b0ZpeGVkKDEpICsgJyUnOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIGl6aVRvYXN0LmhpZGUoe30sIHRvYXN0KTsKICAgIH0KICB9Owp9CmV4cG9ydCBmdW5jdGlvbiBzaG93TWVzc2FnZShtZXNzYWdlKSB7CiAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsKICAgIGNsYXNzOiAnZGlzcGxheS1tZXNzYWdlJywKICAgIHRpdGxlOiBpMThuLnQoJ25vdGlmaWNhdGlvbi5tZXNzYWdlJyksCiAgICBtZXNzYWdlOiBtZXNzYWdlLnJlcGxhY2UoL1xuL2csICc8YnI+JyksCiAgICB0aW1lb3V0OiBmYWxzZQogIH0sIGRlZmF1bHRzKTsKICB2YXIgdG9hc3RDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpc3BsYXktbWVzc2FnZSBwJyk7CgogIGlmICh0b2FzdENvbnRlbnQpIHsKICAgIHRvYXN0Q29udGVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7CiAgfSBlbHNlIHsKICAgIGl6aVRvYXN0LmluZm8ob3B0aW9ucyk7CiAgfQp9CmV4cG9ydCBkZWZhdWx0IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSkgewogICAgVnVlLnByb3RvdHlwZS4kbWFrZU5vdGlmaWNhdGlvbiA9IG1ha2VOb3RpZmljYXRpb247CiAgICBWdWUucHJvdG90eXBlLiRtYWtlRmlsZVRyYW5zZmVyTm90aWZpY2F0aW9uID0gbWFrZUZpbGVUcmFuc2Zlck5vdGlmaWNhdGlvbjsKICAgIFZ1ZS5wcm90b3R5cGUuJHNob3dNZXNzYWdlID0gc2hvd01lc3NhZ2U7CiAgfSwKICBpbnN0YWxsU3RvcmU6IGZ1bmN0aW9uIGluc3RhbGxTdG9yZShzdG9yZSkgewogICAgc2V0dGluZ3MgPSBzdG9yZS5zdGF0ZS5zZXR0aW5ncy5ub3RpZmljYXRpb25zOwogIH0KfTs="},{"version":3,"sources":["C:/Users/jpatrick/Documents/GitHub/DuetWebControl_Fork/src/plugins/toast.js"],"names":["iziToast","displaySpeed","i18n","extractFileName","defaults","layout","transitionIn","transitionOut","settings","openNotifications","makeNotification","type","title","message","timeout","undefined","errorsPersistent","equalNotification","find","item","resetTimeout","options","Object","assign","class","replace","onClosed","filter","notification","info","success","warning","error","toast","document","querySelector","classList","remove","messageElement","style","width","parentNode","insertBefore","createElement","domElement","hide","progress","reset","setTimeout","start","push","makeFileTransferNotification","destination","cancellationToken","num","count","filename","titlePrefix","t","onClosing","cancel","progressBar","startTime","Date","onProgress","loaded","total","uploadSpeed","textContent","Math","round","toFixed","showMessage","toastContent","install","Vue","prototype","$makeNotification","$makeFileTransferNotification","$showMessage","installStore","store","state","notifications"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\nimport iziToast from 'izitoast'\r\nimport 'izitoast/dist/css/iziToast.css'\r\n\r\nimport { displaySpeed } from './display.js'\r\n\r\nimport i18n from '../i18n'\r\nimport { extractFileName } from '../utils/path.js'\r\n\r\nconst defaults = {\r\n\tlayout: 2,\r\n\ttransitionIn: 'fadeInLeft',\r\n\ttransitionOut: 'fadeOutRight'\r\n}\r\n\r\nlet settings, openNotifications = []\r\n\r\nexport function makeNotification(type, title, message, timeout) {\r\n\tif (timeout === undefined) {\r\n\t\ttimeout = (type === 'error' && settings.errorsPersistent) ? 0 : settings.timeout;\r\n\t}\r\n\r\n\t// If there is already an equal notification, reset its time and don't display a new one\r\n\tconst equalNotification = openNotifications.find(item => item.type === type && item.title == title && item.message === message);\r\n\tif (equalNotification) {\r\n\t\tif (timeout > 0) {\r\n\t\t\tequalNotification.resetTimeout();\r\n\t\t}\r\n\t\treturn equalNotification;\r\n\t}\r\n\r\n\t// Prepare and show new toast\r\n\tconst item = {}, options = Object.assign({\r\n\t\tclass: 'new-toast',\r\n\t\ttitle: title.replace(/\\n/g, '<br>'),\r\n\t\tmessage: message ? message.replace(/\\n/g, '<br>') : '',\r\n\t\tonClosed() {\r\n\t\t\topenNotifications = openNotifications.filter(notification => notification !== item);\r\n\t\t},\r\n\t\ttimeout\r\n\t}, defaults);\r\n\r\n\tswitch (type) {\r\n\t\tcase 'info':\r\n\t\t\tiziToast.info(options);\r\n\t\t\tbreak;\r\n\t\tcase 'success':\r\n\t\t\tiziToast.success(options);\r\n\t\t\tbreak;\r\n\t\tcase 'warning':\r\n\t\t\tiziToast.warning(options);\r\n\t\t\tbreak;\r\n\t\tcase 'error':\r\n\t\t\tiziToast.error(options);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t// Get the new toast instance (iziToast does not return it)\r\n\tconst toast = document.querySelector('.new-toast');\r\n\ttoast.classList.remove('new-toast');\r\n\r\n\t// Fix layout of the created toast (by default layout 2 toasts are too wide)\r\n\tif (message) {\r\n\t\tconst messageElement = toast.querySelector('p.iziToast-message');\r\n\t\tmessageElement.style.width = 'auto';\r\n\t\tmessageElement.parentNode.insertBefore(document.createElement('br'), messageElement);\r\n\t}\r\n\r\n\titem.type = type;\r\n\titem.title = title;\r\n\titem.message = message;\r\n\titem.timeout = timeout;\r\n\titem.domElement = toast;\r\n\titem.hide = function() {\r\n\t\tiziToast.hide({}, toast);\r\n\t\topenNotifications = openNotifications.filter(notification => notification !== item);\r\n\t};\r\n\titem.resetTimeout = function() {\r\n\t\tiziToast.progress(options, toast).reset();\r\n\t\tsetTimeout(iziToast.progress(options, toast).start, 100);\r\n\t};\r\n\r\n\topenNotifications.push(item);\r\n\treturn item;\r\n}\r\n\r\nexport function makeFileTransferNotification(type, destination, cancellationToken, num, count) {\r\n\tconst filename = extractFileName(destination), titlePrefix = count ? `(${num}/${count}) ` : '';\r\n\r\n\t// Prepare toast\r\n\tiziToast.info({\r\n\t\tclass: 'file-transfer',\r\n\t\ttitle: titlePrefix  + i18n.t(`notification.${type}.title`, [filename, displaySpeed(0), 0]),\r\n\t\tmessage: i18n.t(`notification.${type}.message`),\r\n\t\tlayout: 2,\r\n\t\ttimeout: false,\r\n\t\tonClosing: () => cancellationToken.cancel()\r\n\t});\r\n\r\n\t// Get it and fix up the layout\r\n\tconst toast = document.querySelector('.file-transfer');\r\n\ttoast.classList.remove('file-transfer');\r\n\r\n\tconst messageElement = toast.querySelector('p.iziToast-message');\r\n\tmessageElement.style.width = 'auto';\r\n\tmessageElement.parentNode.insertBefore(document.createElement('br'), messageElement);\r\n\r\n\t// Get progress bar\r\n\tconst title = toast.querySelector('strong.iziToast-title');\r\n\tconst progressBar = toast.querySelector('div.iziToast-progressbar > div');\r\n\tprogressBar.style.width = '0%';\r\n\r\n\t// Return object with enough info about it\r\n\tconst startTime = new Date();\r\n\treturn {\r\n\t\tdomElement: toast,\r\n\t\tonProgress(loaded, total) {\r\n\t\t\tconst uploadSpeed = loaded / (((new Date()) - startTime) / 1000), progress = (loaded / total) * 100;\r\n\t\t\ttitle.textContent = titlePrefix + i18n.t(`notification.${type}.title`, [filename, displaySpeed(uploadSpeed), Math.round(progress)]);\r\n\t\t\tprogressBar.style.width = progress.toFixed(1) + '%';\r\n\t\t},\r\n\t\thide() {\r\n\t\t\tiziToast.hide({}, toast);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function showMessage(message) {\r\n\tconst options = Object.assign({\r\n\t\tclass: 'display-message',\r\n\t\ttitle: i18n.t('notification.message'),\r\n\t\tmessage: message.replace(/\\n/g, '<br>'),\r\n\t\ttimeout: false\r\n\t}, defaults);\r\n\r\n\tconst toastContent = document.querySelector('.display-message p');\r\n\tif (toastContent) {\r\n\t\ttoastContent.textContent = message;\r\n\t} else {\r\n\t\tiziToast.info(options);\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tinstall(Vue) {\r\n\t\tVue.prototype.$makeNotification = makeNotification;\r\n\t\tVue.prototype.$makeFileTransferNotification = makeFileTransferNotification;\r\n\t\tVue.prototype.$showMessage = showMessage;\r\n\t},\r\n\r\n\tinstallStore(store) {\r\n\t\tsettings = store.state.settings.notifications;\r\n\t}\r\n}\r\n"]}]}