{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\panels\\FansPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\panels\\FansPanel.vue","mtime":1592248188562},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJ3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxqcGF0cmlja1xcRG9jdW1lbnRzXFxHaXRIdWJcXER1ZXRXZWJDb250cm9sX0ZvcmtcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydzZWxlY3RlZE1hY2hpbmUnXSksIHt9LCBtYXBHZXR0ZXJzKFsndWlGcm96ZW4nXSksIHt9LCBtYXBTdGF0ZSgnbWFjaGluZS9tb2RlbCcsIFsnZmFucyddKSwge30sIG1hcEdldHRlcnMoJ21hY2hpbmUvbW9kZWwnLCBbJ2N1cnJlbnRUb29sJ10pLCB7fSwgbWFwU3RhdGUoJ21hY2hpbmUvc2V0dGluZ3MnLCBbJ2Rpc3BsYXllZEZhbnMnXSksIHsKICAgIHZpc2libGVGYW5zOiBmdW5jdGlvbiB2aXNpYmxlRmFucygpIHsKICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheWVkRmFucy5maWx0ZXIoZnVuY3Rpb24gKGZhbikgewogICAgICAgIGlmIChmYW4gPT09IC0xKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VG9vbCAmJiB0aGlzLmN1cnJlbnRUb29sLmZhbnMubGVuZ3RoID4gMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYW4gPCB0aGlzLmZhbnMubGVuZ3RoICYmIHRoaXMuZmFuc1tmYW5dICYmIHRoaXMuZmFuc1tmYW5dLnRoZXJtb3N0YXRpYy5oZWF0ZXJzLmxlbmd0aCA9PT0gMDsKICAgICAgfSwgdGhpcyk7CiAgICB9LAogICAgdG9vbEZhbjogZnVuY3Rpb24gdG9vbEZhbigpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wgJiYgdGhpcy5jdXJyZW50VG9vbC5mYW5zLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRUb29sLmZhbnNbMF07CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ21hY2hpbmUnLCBbJ3NlbmRDb2RlJ10pLCB7fSwgbWFwTXV0YXRpb25zKCdtYWNoaW5lL3NldHRpbmdzJywgWyd0b2dnbGVGYW5WaXNpYmlsaXR5J10pLCB7CiAgICBnZXRGYW5WYWx1ZTogZnVuY3Rpb24gZ2V0RmFuVmFsdWUoZmFuKSB7CiAgICAgIGlmIChmYW4gPT09IC0xKSB7CiAgICAgICAgZmFuID0gdGhpcy50b29sRmFuOwogICAgICB9CgogICAgICByZXR1cm4gZmFuID49IDAgJiYgZmFuIDwgdGhpcy5mYW5zLmxlbmd0aCAmJiB0aGlzLmZhbnNbZmFuXSA/IE1hdGgucm91bmQodGhpcy5mYW5zW2Zhbl0ucmVxdWVzdGVkVmFsdWUgKiAxMDApIDogMDsKICAgIH0sCiAgICBzZXRGYW5WYWx1ZTogZnVuY3Rpb24gc2V0RmFuVmFsdWUoZmFuLCB2YWx1ZSkgewogICAgICBpZiAoZmFuID09PSAtMSkgewogICAgICAgIHRoaXMuc2VuZENvZGUoIk0xMDYgUyIuY29uY2F0KHZhbHVlIC8gMTAwKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZW5kQ29kZSgiTTEwNiBQIi5jb25jYXQoZmFuLCAiIFMiKS5jb25jYXQodmFsdWUgLyAxMDApKTsKICAgICAgfQogICAgfQogIH0pCn07"},{"version":3,"sources":["FansPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;;;;;AAEA,SAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,iBAAA,CAAA,CADA,MAEA,UAAA,CAAA,CAAA,UAAA,CAAA,CAFA,MAGA,QAAA,CAAA,eAAA,EAAA,CAAA,MAAA,CAAA,CAHA,MAIA,UAAA,CAAA,eAAA,EAAA,CAAA,aAAA,CAAA,CAJA,MAKA,QAAA,CAAA,kBAAA,EAAA,CAAA,eAAA,CAAA,CALA;AAMA,IAAA,WANA,yBAMA;AACA,aAAA,KAAA,aAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,iBAAA,KAAA,WAAA,IAAA,KAAA,WAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA;AACA;;AACA,eAAA,GAAA,GAAA,KAAA,IAAA,CAAA,MAAA,IAAA,KAAA,IAAA,CAAA,GAAA,CAAA,IAAA,KAAA,IAAA,CAAA,GAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA;AACA,OALA,EAKA,IALA,CAAA;AAMA,KAbA;AAcA,IAAA,OAdA,qBAcA;AACA,UAAA,KAAA,WAAA,IAAA,KAAA,WAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,WAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,CAAA;AACA;AAnBA,IADA;AAsBA,EAAA,OAAA,oBACA,UAAA,CAAA,SAAA,EAAA,CAAA,UAAA,CAAA,CADA,MAEA,YAAA,CAAA,kBAAA,EAAA,CAAA,qBAAA,CAAA,CAFA;AAGA,IAAA,WAHA,uBAGA,GAHA,EAGA;AACA,UAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,QAAA,GAAA,GAAA,KAAA,OAAA;AACA;;AACA,aAAA,GAAA,IAAA,CAAA,IAAA,GAAA,GAAA,KAAA,IAAA,CAAA,MAAA,IAAA,KAAA,IAAA,CAAA,GAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,GAAA,EAAA,cAAA,GAAA,GAAA,CAAA,GAAA,CAAA;AACA,KARA;AASA,IAAA,WATA,uBASA,GATA,EASA,KATA,EASA;AACA,UAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,QAAA,iBAAA,KAAA,GAAA,GAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA,iBAAA,GAAA,eAAA,KAAA,GAAA,GAAA;AACA;AACA;AAfA;AAtBA,CAAA","sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<v-card-title class=\"pb-0\">\r\n\t\t\t<v-icon small class=\"mr-1\">mdi-fan</v-icon> {{ $t('panel.fans.caption') }}\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-menu offset-y right auto>\r\n\t\t\t\t<template #activator=\"{ on }\">\r\n\t\t\t\t\t<a v-show=\"!uiFrozen && fans.some(fan => fan && fan.thermostatic.heaters.length === 0)\" v-on=\"on\" href=\"javascript:void(0)\" class=\"subtitle-2\">\r\n\t\t\t\t\t\t{{ $t('panel.fans.changeVisibility') }}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<v-list>\r\n\t\t\t\t\t<v-list-item v-show=\"currentTool && currentTool.fans.length > 0\" @click=\"toggleFanVisibility(-1)\">\r\n\t\t\t\t\t\t<v-icon class=\"mr-1\">\r\n\t\t\t\t\t\t\t{{ (displayedFans.indexOf(-1) !== -1) ? 'mdi-checkbox-marked' : 'mdi-checkbox-blank' }}\r\n\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t{{ $t('panel.fans.toolFan') }}\r\n\t\t\t\t\t</v-list-item>\r\n\r\n\t\t\t\t\t<template v-for=\"(fan, index) in fans\" >\r\n\t\t\t\t\t\t<v-list-item v-if=\"fan && fan.thermostatic.heaters.length === 0\" :key=\"index\" @click=\"toggleFanVisibility(index)\">\r\n\t\t\t\t\t\t\t<v-icon class=\"mr-1\">\r\n\t\t\t\t\t\t\t\t{{ (displayedFans.indexOf(index) !== -1) ? 'mdi-checkbox-marked' : 'mdi-checkbox-blank' }}\r\n\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t{{ fan.name ? fan.name :$t('panel.fans.fan', [index]) }}\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</v-list>\r\n\t\t\t</v-menu>\r\n\t\t</v-card-title>\r\n\t\t\r\n\t\t<v-card-text class=\"d-flex flex-column pb-0\">\r\n\t\t\t<div v-for=\"fan in visibleFans\" :key=\"fan\" class=\"d-flex flex-column pt-2\">\r\n\t\t\t\t{{ (fan === -1) ? $t('panel.fans.toolFan') : (fans[fan].name ? fans[fan].name : $t('panel.fans.fan', [fan])) }}\r\n\t\t\t\t<slider :value=\"getFanValue(fan)\" @input=\"setFanValue(fan, $event)\" :disabled=\"uiFrozen\"></slider>\r\n\t\t\t</div>\r\n\t\t</v-card-text>\r\n\r\n\t\t<v-alert type=\"info\" :value=\"!visibleFans.length\" class=\"mb-0\">\r\n\t\t\t{{ $t('panel.fans.noFans') }}\r\n\t\t</v-alert>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState(['selectedMachine']),\r\n\t\t...mapGetters(['uiFrozen']),\r\n\t\t...mapState('machine/model', ['fans']),\r\n\t\t...mapGetters('machine/model', ['currentTool']),\r\n\t\t...mapState('machine/settings', ['displayedFans']),\r\n\t\tvisibleFans() {\r\n\t\t\treturn this.displayedFans.filter(function(fan) {\r\n\t\t\t\tif (fan === -1) {\r\n\t\t\t\t\treturn this.currentTool && this.currentTool.fans.length > 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn fan < this.fans.length && this.fans[fan] && this.fans[fan].thermostatic.heaters.length === 0;\r\n\t\t\t}, this);\r\n\t\t},\r\n\t\ttoolFan() {\r\n\t\t\tif (this.currentTool && this.currentTool.fans.length) {\r\n\t\t\t\treturn this.currentTool.fans[0];\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['sendCode']),\r\n\t\t...mapMutations('machine/settings', ['toggleFanVisibility']),\r\n\t\tgetFanValue(fan) {\r\n\t\t\tif (fan === -1) {\r\n\t\t\t\tfan = this.toolFan;\r\n\t\t\t}\r\n\t\t\treturn (fan >= 0 && fan < this.fans.length && this.fans[fan]) ? Math.round(this.fans[fan].requestedValue * 100) : 0;\r\n\t\t},\r\n\t\tsetFanValue(fan, value) {\r\n\t\t\tif (fan === -1) {\r\n\t\t\t\tthis.sendCode(`M106 S${value / 100}`);\r\n\t\t\t} else {\r\n\t\t\t\tthis.sendCode(`M106 P${fan} S${value / 100}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/panels"}]}