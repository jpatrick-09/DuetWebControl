{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\misc\\JobProgress.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\misc\\JobProgress.vue","mtime":1592248188549},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJ3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxqcGF0cmlja1xcRG9jdW1lbnRzXFxHaXRIdWJcXER1ZXRXZWJDb250cm9sX0ZvcmtcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBNYWNoaW5lTW9kZSwgaXNQcmludGluZywgU3RhdHVzVHlwZSB9IGZyb20gJy4uLy4uL3N0b3JlL21hY2hpbmUvbW9kZWxFbnVtcy5qcyc7CmltcG9ydCB7IGV4dHJhY3RGaWxlTmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzL3BhdGguanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtYWNoaW5lL21vZGVsJywgewogICAgZXh0cnVkZXJzOiBmdW5jdGlvbiBleHRydWRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1vdmUuZXh0cnVkZXJzOwogICAgfSwKICAgIGpvYjogZnVuY3Rpb24gam9iKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5qb2I7CiAgICB9LAogICAgbWFjaGluZU1vZGU6IGZ1bmN0aW9uIG1hY2hpbmVNb2RlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0ZS5tYWNoaW5lTW9kZTsKICAgIH0sCiAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdGUuc3RhdHVzOwogICAgfQogIH0pLCB7fSwgbWFwR2V0dGVycygnbWFjaGluZS9tb2RlbCcsIFsnam9iUHJvZ3Jlc3MnXSksIHsKICAgIHByaW50U3RhdHVzOiBmdW5jdGlvbiBwcmludFN0YXR1cygpIHsKICAgICAgaWYgKGlzUHJpbnRpbmcodGhpcy5zdGF0dXMpKSB7CiAgICAgICAgaWYgKHRoaXMucHJpbnRGaWxlKSB7CiAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLiRkaXNwbGF5KHRoaXMuam9iUHJvZ3Jlc3MgKiAxMDAsIDEsICclJyk7CgogICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBTdGF0dXNUeXBlLnNpbXVsYXRpbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ2pvYlByb2dyZXNzLnNpbXVsYXRpbmcnLCBbdGhpcy5wcmludEZpbGUsIHByb2dyZXNzXSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMubWFjaGluZU1vZGUgPT09IE1hY2hpbmVNb2RlLmZmZikgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3MucHJpbnRpbmcnLCBbdGhpcy5wcmludEZpbGUsIHByb2dyZXNzXSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ2pvYlByb2dyZXNzLnByb2Nlc3NpbmcnLCBbdGhpcy5wcmludEZpbGUsIHByb2dyZXNzXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy4kdCgnZ2VuZXJpYy5sb2FkaW5nJyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0UHJpbnRGaWxlKSB7CiAgICAgICAgaWYgKHRoaXMuam9iLmxhc3RGaWxlU2ltdWxhdGVkKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3Muc2ltdWxhdGVkJywgW3RoaXMubGFzdFByaW50RmlsZV0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMubWFjaGluZU1vZGUgPT09IE1hY2hpbmVNb2RlLmZmZikgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHQoJ2pvYlByb2dyZXNzLnByaW50ZWQnLCBbdGhpcy5sYXN0UHJpbnRGaWxlXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3MucHJvY2Vzc2VkJywgW3RoaXMubGFzdFByaW50RmlsZV0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy4kdCgnam9iUHJvZ3Jlc3Mubm9Kb2InKTsKICAgIH0sCiAgICBwcmludERldGFpbHM6IGZ1bmN0aW9uIHByaW50RGV0YWlscygpIHsKICAgICAgaWYgKCFpc1ByaW50aW5nKHRoaXMuc3RhdHVzKSkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgdmFyIGRldGFpbHMgPSAnJzsKCiAgICAgIGlmICh0aGlzLmpvYi5sYXllciAhPT0gbnVsbCAmJiB0aGlzLmpvYi5maWxlLm51bUxheWVycykgewogICAgICAgIGRldGFpbHMgPSB0aGlzLiR0KCdqb2JQcm9ncmVzcy5sYXllcicsIFt0aGlzLmpvYi5sYXllciwgdGhpcy5qb2IuZmlsZS5udW1MYXllcnNdKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZXh0cnVkZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAoZGV0YWlscyAhPT0gJycpIHsKICAgICAgICAgIGRldGFpbHMgKz0gJywgJzsKICAgICAgICB9CgogICAgICAgIHZhciB0b3RhbFJhd0V4dHJ1ZGVkID0gdGhpcy5leHRydWRlcnMubWFwKGZ1bmN0aW9uIChleHRydWRlcikgewogICAgICAgICAgcmV0dXJuIGV4dHJ1ZGVyLnJhd1Bvc2l0aW9uOwogICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgICAgIH0pOwogICAgICAgIGRldGFpbHMgKz0gdGhpcy4kdCgnam9iUHJvZ3Jlc3MuZmlsYW1lbnQnLCBbdGhpcy4kZGlzcGxheSh0b3RhbFJhd0V4dHJ1ZGVkLCAxLCAnbW0nKV0pOwoKICAgICAgICBpZiAodGhpcy5qb2IuZmlsZS5maWxhbWVudC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgbmVlZGVkID0gdGhpcy5qb2IuZmlsZS5maWxhbWVudC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEgKyBiOwogICAgICAgICAgfSk7CiAgICAgICAgICBkZXRhaWxzICs9ICcgKCcgKyB0aGlzLiR0KCdqb2JQcm9ncmVzcy5maWxhbWVudFJlbWFpbmluZycsIFt0aGlzLiRkaXNwbGF5KE1hdGgubWF4KG5lZWRlZCAtIHRvdGFsUmF3RXh0cnVkZWQsIDApLCAxLCAnbW0nKV0pICsgJyknOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGRldGFpbHM7CiAgICB9LAogICAgcHJpbnRGaWxlOiBmdW5jdGlvbiBwcmludEZpbGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmpvYi5maWxlLmZpbGVOYW1lICE9PSBudWxsID8gZXh0cmFjdEZpbGVOYW1lKHRoaXMuam9iLmZpbGUuZmlsZU5hbWUpIDogbnVsbDsKICAgIH0sCiAgICBsYXN0UHJpbnRGaWxlOiBmdW5jdGlvbiBsYXN0UHJpbnRGaWxlKCkgewogICAgICByZXR1cm4gdGhpcy5qb2IubGFzdEZpbGVOYW1lICE9PSBudWxsID8gZXh0cmFjdEZpbGVOYW1lKHRoaXMuam9iLmxhc3RGaWxlTmFtZSkgOiBudWxsOwogICAgfQogIH0pCn07"},{"version":3,"sources":["JobProgress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-row dense>\r\n\t\t<v-col cols=\"12\" class=\"d-flex\">\r\n\t\t\t<span>{{ printStatus }}</span>\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<span>{{ printDetails }}</span>\r\n\t\t</v-col>\r\n\r\n\t\t<v-col cols=\"12\">\r\n\t\t\t<v-progress-linear :value=\"jobProgress * 100\" class=\"my-1\"></v-progress-linear>\r\n\t\t</v-col>\r\n\t</v-row>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nimport { MachineMode, isPrinting, StatusType } from '../../store/machine/modelEnums.js'\r\nimport { extractFileName } from '../../utils/path.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapState('machine/model', {\r\n\t\t\textruders: state => state.move.extruders,\r\n\t\t\tjob: state => state.job,\r\n\t\t\tmachineMode: state => state.state.machineMode,\r\n\t\t\tstatus: state => state.state.status\r\n\t\t}),\r\n\t\t...mapGetters('machine/model', ['jobProgress']),\r\n\t\tprintStatus() {\r\n\t\t\tif (isPrinting(this.status)) {\r\n\t\t\t\tif (this.printFile) {\r\n\t\t\t\t\tconst progress = this.$display(this.jobProgress * 100, 1, '%');\r\n\t\t\t\t\tif (this.status === StatusType.simulating) {\r\n\t\t\t\t\t\treturn this.$t('jobProgress.simulating', [this.printFile, progress]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.machineMode === MachineMode.fff) {\r\n\t\t\t\t\t\treturn this.$t('jobProgress.printing', [this.printFile, progress]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.$t('jobProgress.processing', [this.printFile, progress]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$t('generic.loading');\r\n\t\t\t} else if (this.lastPrintFile) {\r\n\t\t\t\tif (this.job.lastFileSimulated) {\r\n\t\t\t\t\treturn this.$t('jobProgress.simulated', [this.lastPrintFile]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.machineMode === MachineMode.fff) {\r\n\t\t\t\t\treturn this.$t('jobProgress.printed', [this.lastPrintFile]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$t('jobProgress.processed', [this.lastPrintFile]);\r\n\t\t\t}\r\n\t\t\treturn this.$t('jobProgress.noJob');\r\n\t\t},\r\n\t\tprintDetails() {\r\n\t\t\tif (!isPrinting(this.status)) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\tlet details = '';\r\n\t\t\tif (this.job.layer !== null && this.job.file.numLayers) {\r\n\t\t\t\tdetails = this.$t('jobProgress.layer', [this.job.layer, this.job.file.numLayers]);\r\n\t\t\t}\r\n\t\t\tif (this.extruders.length > 0) {\r\n\t\t\t\tif (details !== '') { details += ', '; }\r\n\t\t\t\tconst totalRawExtruded = this.extruders\r\n\t\t\t\t\t\t\t\t\t\t\t.map(extruder => extruder.rawPosition)\r\n\t\t\t\t\t\t\t\t\t\t\t.reduce((a, b) => a + b);\r\n\t\t\t\tdetails += this.$t('jobProgress.filament', [this.$display(totalRawExtruded, 1, 'mm')]);\r\n\t\t\t\tif (this.job.file.filament.length > 0) {\r\n\t\t\t\t\tconst needed = this.job.file.filament.reduce((a, b) => a + b);\r\n\t\t\t\t\tdetails += ' (' + this.$t('jobProgress.filamentRemaining', [this.$display(Math.max(needed - totalRawExtruded, 0), 1, 'mm')]) + ')';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn details;\r\n\t\t},\r\n\t\tprintFile() {\r\n\t\t\treturn (this.job.file.fileName !== null) ? extractFileName(this.job.file.fileName) : null;\r\n\t\t},\r\n\t\tlastPrintFile() {\r\n\t\t\treturn (this.job.lastFileName !== null) ? extractFileName(this.job.lastFileName) : null;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/misc"}]}