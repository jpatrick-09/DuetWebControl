{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\lists\\MacroFileList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\components\\lists\\MacroFileList.vue","mtime":1592248188543},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJ3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcanBhdHJpY2tcXERvY3VtZW50c1xcR2l0SHViXFxEdWV0V2ViQ29udHJvbF9Gb3JrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFBhdGggZnJvbSAnLi4vLi4vdXRpbHMvcGF0aC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3VpRnJvemVuJ10pLCB7fSwgbWFwU3RhdGUoJ21hY2hpbmUvbW9kZWwnLCB7CiAgICBtYWNyb3NEaXJlY3Rvcnk6IGZ1bmN0aW9uIG1hY3Jvc0RpcmVjdG9yeShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZGlyZWN0b3JpZXMubWFjcm9zOwogICAgfQogIH0pLCB7CiAgICBpc0ZpbGU6IGZ1bmN0aW9uIGlzRmlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5zZWxlY3Rpb25bMF0uaXNEaXJlY3Rvcnk7CiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpcmVjdG9yeTogUGF0aC5tYWNyb3MsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3Rpb246IFtdLAogICAgICBydW5NYWNyb0RpYWxvZzogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBwcm9tcHQ6ICcnLAogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgICBzaG93bjogZmFsc2UKICAgICAgfSwKICAgICAgc2hvd05ld0RpcmVjdG9yeTogZmFsc2UsCiAgICAgIHNob3dOZXdGaWxlOiBmYWxzZSwKICAgICAgZmFiOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoJ21hY2hpbmUnLCBbJ3NlbmRDb2RlJ10pLCB7CiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB0aGlzLiRyZWZzLmZpbGVsaXN0LnJlZnJlc2goKTsKICAgIH0sCiAgICBmaWxlQ2xpY2tlZDogZnVuY3Rpb24gZmlsZUNsaWNrZWQoaXRlbSkgewogICAgICB0aGlzLnJ1bk1hY3JvRGlhbG9nLnRpdGxlID0gdGhpcy4kdCgnZGlhbG9nLnJ1bk1hY3JvLnRpdGxlJywgW2l0ZW0ubmFtZV0pOwogICAgICB0aGlzLnJ1bk1hY3JvRGlhbG9nLnByb21wdCA9IHRoaXMuJHQoJ2RpYWxvZy5ydW5NYWNyby5wcm9tcHQnLCBbaXRlbS5uYW1lXSk7CiAgICAgIHRoaXMucnVuTWFjcm9EaWFsb2cuZmlsZW5hbWUgPSBpdGVtLm5hbWU7CiAgICAgIHRoaXMucnVuTWFjcm9EaWFsb2cuc2hvd24gPSB0cnVlOwogICAgfSwKICAgIHJ1bkZpbGU6IGZ1bmN0aW9uIHJ1bkZpbGUoZmlsZW5hbWUpIHsKICAgICAgdGhpcy5zZW5kQ29kZSgiTTk4IFBcIiIuY29uY2F0KFBhdGguY29tYmluZSh0aGlzLmRpcmVjdG9yeSwgZmlsZW5hbWUpLCAiXCIiKSk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZGlyZWN0b3J5ID0gdGhpcy5tYWNyb3NEaXJlY3Rvcnk7CiAgfSwKICB3YXRjaDogewogICAgbWFjcm9zRGlyZWN0b3J5OiBmdW5jdGlvbiBtYWNyb3NEaXJlY3RvcnkodG8sIGZyb20pIHsKICAgICAgaWYgKFBhdGguZXF1YWxzKHRoaXMuZGlyZWN0b3J5LCBmcm9tKSB8fCAhUGF0aC5zdGFydHNXaXRoKHRoaXMuZGlyZWN0b3J5LCB0bykpIHsKICAgICAgICB0aGlzLmRpcmVjdG9yeSA9IHRvOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["MacroFileList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;;;;AAEA,SAAA,UAAA,EAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AAEA,OAAA,IAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,UAAA,CAAA,CADA,MAEA,QAAA,CAAA,eAAA,EAAA;AACA,IAAA,eAAA,EAAA,yBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,WAAA,CAAA,MAAA;AAAA;AADA,GAAA,CAFA;AAKA,IAAA,MALA,oBAKA;AAAA,aAAA,KAAA,SAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,SAAA,CAAA,CAAA,EAAA,WAAA;AAAA;AALA,IADA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IAAA,CAAA,MADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,cAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAJA;AAUA,MAAA,gBAAA,EAAA,KAVA;AAWA,MAAA,WAAA,EAAA,KAXA;AAYA,MAAA,GAAA,EAAA;AAZA,KAAA;AAcA,GAvBA;AAwBA,EAAA,OAAA,oBACA,UAAA,CAAA,SAAA,EAAA,CAAA,UAAA,CAAA,CADA;AAEA,IAAA,OAFA,qBAEA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA,KAJA;AAKA,IAAA,WALA,uBAKA,IALA,EAKA;AACA,WAAA,cAAA,CAAA,KAAA,GAAA,KAAA,EAAA,CAAA,uBAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,WAAA,cAAA,CAAA,MAAA,GAAA,KAAA,EAAA,CAAA,wBAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,WAAA,cAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,WAAA,cAAA,CAAA,KAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,OAXA,mBAWA,QAXA,EAWA;AACA,WAAA,QAAA,kBAAA,IAAA,CAAA,OAAA,CAAA,KAAA,SAAA,EAAA,QAAA,CAAA;AACA;AAbA,IAxBA;AAuCA,EAAA,OAvCA,qBAuCA;AACA,SAAA,SAAA,GAAA,KAAA,eAAA;AACA,GAzCA;AA0CA,EAAA,KAAA,EAAA;AACA,IAAA,eADA,2BACA,EADA,EACA,IADA,EACA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,KAAA,SAAA,EAAA,IAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,KAAA,SAAA,EAAA,EAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA;AACA;AALA;AA1CA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"component\">\r\n\t\t<v-toolbar>\r\n\t\t\t<directory-breadcrumbs v-model=\"directory\"></directory-breadcrumbs>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" :disabled=\"uiFrozen\" @click=\"showNewFile = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-file-plus</v-icon> {{ $t('button.newFile.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" :disabled=\"uiFrozen\" @click=\"showNewDirectory = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-folder-plus</v-icon> {{ $t('button.newDirectory.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<v-btn class=\"hidden-sm-and-down mr-3\" color=\"info\" :loading=\"loading\" :disabled=\"uiFrozen\" @click=\"refresh\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-refresh</v-icon> {{ $t('button.refresh.caption') }}\r\n\t\t\t</v-btn>\r\n\t\t\t<upload-btn class=\"hidden-sm-and-down\" :directory=\"directory\" target=\"macros\" color=\"success\"></upload-btn>\r\n\t\t</v-toolbar>\r\n\t\t\r\n\t\t<base-file-list ref=\"filelist\" v-model=\"selection\" :directory.sync=\"directory\" :loading.sync=\"loading\" sort-table=\"macros\" @fileClicked=\"fileClicked\" no-files-text=\"list.macro.noMacros\">\r\n\t\t\t<template #context-menu>\r\n\t\t\t\t<v-list-item v-show=\"isFile\" @click=\"runFile(selection[0].name)\">\r\n\t\t\t\t\t<v-icon class=\"mr-1\">mdi-play</v-icon> {{ $t('list.macro.run') }}\r\n\t\t\t\t</v-list-item>\r\n\t\t\t</template>\r\n\t\t</base-file-list>\r\n\r\n\t\t<v-speed-dial v-model=\"fab\" bottom right fixed direction=\"top\" transition=\"scale-transition\" class=\"hidden-md-and-up\">\r\n\t\t\t<template #activator>\r\n\t\t\t\t<v-btn v-model=\"fab\" dark color=\"primary\" fab>\r\n\t\t\t\t\t<v-icon v-if=\"fab\">mdi-close</v-icon>\r\n\t\t\t\t\t<v-icon v-else>mdi-dots-vertical</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t</template>\r\n\r\n\t\t\t<v-btn fab :disabled=\"uiFrozen\" @click=\"showNewFile = true\">\r\n\t\t\t\t<v-icon class=\"mr-1\">mdi-file-plus</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<v-btn fab :disabled=\"uiFrozen\" @click=\"showNewDirectory = true\">\r\n\t\t\t\t<v-icon>mdi-folder-plus</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<v-btn fab color=\"info\" :loading=\"loading\" :disabled=\"uiFrozen\" @click=\"refresh\">\r\n\t\t\t\t<v-icon>mdi-refresh</v-icon>\r\n\t\t\t</v-btn>\r\n\r\n\t\t\t<upload-btn fab dark :directory=\"directory\" target=\"macros\" color=\"success\">\r\n\t\t\t\t<v-icon>mdi-cloud-upload</v-icon>\r\n\t\t\t</upload-btn>\r\n\t\t</v-speed-dial>\r\n\r\n\t\t<new-directory-dialog :shown.sync=\"showNewDirectory\" :directory=\"directory\"></new-directory-dialog>\r\n\t\t<new-file-dialog :shown.sync=\"showNewFile\" :directory=\"directory\"></new-file-dialog>\r\n\t\t<confirm-dialog :shown.sync=\"runMacroDialog.shown\" :title=\"runMacroDialog.title\" :prompt=\"runMacroDialog.prompt\" @confirmed=\"runFile(runMacroDialog.filename)\"></confirm-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n'use strict'\r\n\r\nimport { mapGetters, mapState, mapActions } from 'vuex'\r\n\r\nimport Path from '../../utils/path.js'\r\n\r\nexport default {\r\n\tcomputed: {\r\n\t\t...mapGetters(['uiFrozen']),\r\n\t\t...mapState('machine/model', {\r\n\t\t\tmacrosDirectory: state => state.directories.macros\r\n\t\t}),\r\n\t\tisFile() { return (this.selection.length === 1) && !this.selection[0].isDirectory; }\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdirectory: Path.macros,\r\n\t\t\tloading: false,\r\n\t\t\tselection: [],\r\n\t\t\trunMacroDialog: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprompt: '',\r\n\t\t\t\tfilename: '',\r\n\t\t\t\tshown: false\r\n\t\t\t},\r\n\t\t\tshowNewDirectory: false,\r\n\t\t\tshowNewFile: false,\r\n\t\t\tfab: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions('machine', ['sendCode']),\r\n\t\trefresh() {\r\n\t\t\tthis.$refs.filelist.refresh();\r\n\t\t},\r\n\t\tfileClicked(item) {\r\n\t\t\tthis.runMacroDialog.title = this.$t('dialog.runMacro.title', [item.name]);\r\n\t\t\tthis.runMacroDialog.prompt = this.$t('dialog.runMacro.prompt', [item.name]);\r\n\t\t\tthis.runMacroDialog.filename = item.name;\r\n\t\t\tthis.runMacroDialog.shown = true;\r\n\t\t},\r\n\t\trunFile(filename) {\r\n\t\t\tthis.sendCode(`M98 P\"${Path.combine(this.directory, filename)}\"`);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.directory = this.macrosDirectory;\r\n\t},\r\n\twatch: {\r\n\t\tmacrosDirectory(to, from) {\r\n\t\t\tif (Path.equals(this.directory, from) || !Path.startsWith(this.directory, to)) {\r\n\t\t\t\tthis.directory = to;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":"src/components/lists"}]}