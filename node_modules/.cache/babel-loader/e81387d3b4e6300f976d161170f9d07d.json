{"remainingRequest":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\store\\settings.js","dependencies":[{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\src\\store\\settings.js","mtime":1592248188733},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jpatrick\\Documents\\GitHub\\DuetWebControl_Fork\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxqcGF0cmlja1xcRG9jdW1lbnRzXFxHaXRIdWJcXER1ZXRXZWJDb250cm9sX0ZvcmtcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgaTE4biBmcm9tICcuLi9pMThuJzsKaW1wb3J0IHsgbG9jYWxTdG9yYWdlU3VwcG9ydGVkLCBnZXRMb2NhbFNldHRpbmcsIHNldExvY2FsU2V0dGluZywgcmVtb3ZlTG9jYWxTZXR0aW5nIH0gZnJvbSAnLi4vdXRpbHMvbG9jYWxTdG9yYWdlLmpzJzsKaW1wb3J0IHBhdGNoIGZyb20gJy4uL3V0aWxzL3BhdGNoLmpzJzsKaW1wb3J0IFBhdGggZnJvbSAnLi4vdXRpbHMvcGF0aC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBsYW5ndWFnZTogJ2VuJywKICAgIGxhc3RIb3N0bmFtZTogbG9jYXRpb24uaG9zdCwKICAgIGRhcmtUaGVtZTogZmFsc2UsCiAgICB1c2VCaW5hcnlQcmVmaXg6IHRydWUsCiAgICBkaXNhYmxlQXV0b0NvbXBsZXRlOiBmYWxzZSwKICAgIHNldHRpbmdzU3RvcmFnZUxvY2FsOiBmYWxzZSwKICAgIHNldHRpbmdzU2F2ZURlbGF5OiAyMDAwLAogICAgLy8gbXMgLSBob3cgbG9uZyB0byB3YWl0IGJlZm9yZSBzZXR0aW5ncyB1cGRhdGVzIGFyZSBzYXZlZAogICAgY2FjaGVTdG9yYWdlTG9jYWw6IGxvY2FsU3RvcmFnZVN1cHBvcnRlZCwKICAgIGNhY2hlU2F2ZURlbGF5OiA0MDAwLAogICAgLy8gbXMgLSBob3cgbG9uZyB0byB3YWl0IGJlZm9yZSBjYWNoZSB1cGRhdGVzIGFyZSBzYXZlZAogICAgbm90aWZpY2F0aW9uczogewogICAgICBlcnJvcnNQZXJzaXN0ZW50OiB0cnVlLAogICAgICB0aW1lb3V0OiA1MDAwIC8vIG1zCgogICAgfSwKICAgIHdlYmNhbTogewogICAgICB1cmw6ICcnLAogICAgICB1cGRhdGVJbnRlcnZhbDogNTAwMCwKICAgICAgLy8gbXMKICAgICAgbGl2ZVVybDogJycsCiAgICAgIHVzZUZpeDogZmFsc2UsCiAgICAgIC8vIGRvIG5vdCBhcHBlbmQgZXh0cmEgSFRUUCBxdWFsaWZpZXIgd2hlbiByZWxvYWRpbmcgaW1hZ2VzCiAgICAgIGVtYmVkZGVkOiBmYWxzZSwKICAgICAgLy8gdXNlIGlmcmFtZSB0byBlbWJlZCB3ZWJjYW0gc3RyZWFtCiAgICAgIHJvdGF0aW9uOiAwLAogICAgICBmbGlwOiAnbm9uZScKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBpZiAocGF5bG9hZC5sYW5ndWFnZSAmJiBpMThuLmxvY2FsZSAhPSBwYXlsb2FkLmxhbmd1YWdlKSB7CiAgICAgICAgaTE4bi5sb2NhbGUgPSBwYXlsb2FkLmxhbmd1YWdlOwogICAgICB9CgogICAgICBwYXRjaChzdGF0ZSwgcGF5bG9hZCwgdHJ1ZSk7CiAgICB9LAogICAgc2V0TGFzdEhvc3RuYW1lOiBmdW5jdGlvbiBzZXRMYXN0SG9zdG5hbWUoc3RhdGUsIGhvc3RuYW1lKSB7CiAgICAgIHN0YXRlLmxhc3RIb3N0bmFtZSA9IGhvc3RuYW1lOwogICAgICBzZXRMb2NhbFNldHRpbmcoJ2xhc3RIb3N0bmFtZScsIGhvc3RuYW1lKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBpZiAocGF5bG9hZC5sYW5ndWFnZSkgewogICAgICAgIGkxOG4ubG9jYWxlID0gcGF5bG9hZC5sYW5ndWFnZTsKICAgICAgfQoKICAgICAgcGF0Y2goc3RhdGUsIHBheWxvYWQsIHRydWUpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZChfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJvb3RTdGF0ZSwgcm9vdEdldHRlcnMsIGNvbW1pdCwgZGlzcGF0Y2gsIGxhc3RIb3N0bmFtZSwgc2V0dGluZ3M7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdFN0YXRlID0gX3JlZi5yb290U3RhdGUsIHJvb3RHZXR0ZXJzID0gX3JlZi5yb290R2V0dGVycywgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKCiAgICAgICAgICAgICAgICAvLyBGaXJzdCBhdHRlbXB0IHRvIGxvYWQgdGhlIGxhc3QgaG9zdG5hbWUgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZSBpZiB0aGUgYXJlIHJ1bm5pbmcgb24gbG9jYWxob3N0CiAgICAgICAgICAgICAgICBpZiAocm9vdFN0YXRlLmlzTG9jYWwpIHsKICAgICAgICAgICAgICAgICAgbGFzdEhvc3RuYW1lID0gZ2V0TG9jYWxTZXR0aW5nKCdsYXN0SG9zdG5hbWUnKTsKCiAgICAgICAgICAgICAgICAgIGlmIChsYXN0SG9zdG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBjb21taXQoJ2xvYWQnLCB7CiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdG5hbWU6IGxhc3RIb3N0bmFtZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIEF0dGVtcHQgdG8gbG9hZCB0aGUgZ2xvYmFsIHNldHRpbmdzIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2UKCgogICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBnZXRMb2NhbFNldHRpbmcoJ3NldHRpbmdzJyk7CgogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnbG9hZCcsIHNldHRpbmdzKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9vdEdldHRlcnMuaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRyeSB0byBsb2FkIHRoZSBzZXR0aW5ncyBmcm9tIHRoZSBzZWxlY3RlZCBib2FyZAogICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnbWFjaGluZS9zZXR0aW5ncy9sb2FkJywgdW5kZWZpbmVkLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHN0YXRlLCByb290R2V0dGVycywgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGUsIHJvb3RHZXR0ZXJzID0gX3JlZjIucm9vdEdldHRlcnMsIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CgogICAgICAgICAgICAgICAgLy8gU2VlIGlmIHdlIG5lZWQgdG8gc2F2ZSBldmVyeXRoaW5nIGluIHRoZSBsb2NhbCBzdG9yYWdlCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2V0dGluZ3NTdG9yYWdlTG9jYWwpIHsKICAgICAgICAgICAgICAgICAgc2V0TG9jYWxTZXR0aW5nKCdzZXR0aW5ncycsIHN0YXRlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIElmIG5vdCwgcmVtb3ZlIHRoZSBsb2NhbCBzZXR0aW5ncyBhZ2FpbgogICAgICAgICAgICAgICAgICByZW1vdmVMb2NhbFNldHRpbmcoJ3NldHRpbmdzJyk7IC8vIEFuZCB0cnkgdG8gc2F2ZSBldmVyeXRoaW5nIG9uIHRoZSBzZWxlY3RlZCBib2FyZAoKICAgICAgICAgICAgICAgICAgaWYgKHJvb3RHZXR0ZXJzLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ21hY2hpbmUvc2V0dGluZ3Mvc2F2ZScsIHVuZGVmaW5lZCwgewogICAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcm9vdFN0YXRlLCBkaXNwYXRjaCwgZGVmYXVsdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RTdGF0ZSA9IF9yZWYzLnJvb3RTdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBzZXR0aW5ncwogICAgICAgICAgICAgICAgcmVtb3ZlTG9jYWxTZXR0aW5nKCdzZXR0aW5ncycpOwogICAgICAgICAgICAgICAgcmVtb3ZlTG9jYWxTZXR0aW5nKCJtYWNoaW5lcy8iLmNvbmNhdChyb290U3RhdGUuc2VsZWN0ZWRNYWNoaW5lKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ21hY2hpbmUvZGVsZXRlJywgUGF0aC5kd2NTZXR0aW5nc0ZpbGUsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAvLyBEZWxldGUgY2FjaGUKICAgICAgICAgICAgICAgIHJlbW92ZUxvY2FsU2V0dGluZygiY2FjaGUvIi5jb25jYXQocm9vdFN0YXRlLnNlbGVjdGVkTWFjaGluZSkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ21hY2hpbmUvZGVsZXRlJywgUGF0aC5kd2NDYWNoZUZpbGUsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzWyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihfY29udGV4dDMudDEpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ21hY2hpbmUvZG93bmxvYWQnLCB7CiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBQYXRoLmR3Y0ZhY3RvcnlEZWZhdWx0cywKICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd1N1Y2Nlc3M6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93RXJyb3I6IGZhbHNlCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgZGVmYXVsdHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ21hY2hpbmUvdXBsb2FkJywgewogICAgICAgICAgICAgICAgICBmaWxlbmFtZTogUGF0aC5kd2NTZXR0aW5nc0ZpbGUsCiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBCbG9iKFtkZWZhdWx0c10pLAogICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93U3VjY2VzczogZmFsc2UKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQyID0gX2NvbnRleHQzWyJjYXRjaCJdKDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIC8vIFJlbG9hZCB0aGUgd2ViIGludGVyZmFjZSB0byBmaW5pc2gKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzMsIDhdLCBbMTIsIDE3XSwgWzIwLCAyOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/jpatrick/Documents/GitHub/DuetWebControl_Fork/src/store/settings.js"],"names":["i18n","localStorageSupported","getLocalSetting","setLocalSetting","removeLocalSetting","patch","Path","namespaced","state","language","lastHostname","location","host","darkTheme","useBinaryPrefix","disableAutoComplete","settingsStorageLocal","settingsSaveDelay","cacheStorageLocal","cacheSaveDelay","notifications","errorsPersistent","timeout","webcam","url","updateInterval","liveUrl","useFix","embedded","rotation","flip","mutations","load","payload","locale","setLastHostname","hostname","update","actions","rootState","rootGetters","commit","dispatch","isLocal","settings","isConnected","undefined","root","save","reset","selectedMachine","dwcSettingsFile","console","warn","dwcCacheFile","filename","dwcFactoryDefaults","showProgress","showSuccess","showError","defaults","content","Blob","reload"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\nimport i18n from '../i18n'\r\n\r\nimport { localStorageSupported, getLocalSetting, setLocalSetting, removeLocalSetting } from '../utils/localStorage.js'\r\nimport patch from '../utils/patch.js'\r\nimport Path from '../utils/path.js'\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\tstate: {\r\n\t\tlanguage: 'en',\r\n\t\tlastHostname: location.host,\r\n\t\tdarkTheme: false,\r\n\t\tuseBinaryPrefix: true,\r\n\t\tdisableAutoComplete: false,\r\n\t\tsettingsStorageLocal: false,\r\n\t\tsettingsSaveDelay: 2000,\t\t\t\t\t\t// ms - how long to wait before settings updates are saved\r\n\t\tcacheStorageLocal: localStorageSupported,\r\n\t\tcacheSaveDelay: 4000,\t\t\t\t\t\t\t// ms - how long to wait before cache updates are saved\r\n\t\tnotifications: {\r\n\t\t\terrorsPersistent: true,\r\n\t\t\ttimeout: 5000\t\t\t\t\t\t\t\t// ms\r\n\t\t},\r\n\t\twebcam: {\r\n\t\t\turl: '',\r\n\t\t\tupdateInterval: 5000,\t\t\t\t\t\t// ms\r\n\t\t\tliveUrl: '',\r\n\t\t\tuseFix: false,\t\t\t\t\t\t\t\t// do not append extra HTTP qualifier when reloading images\r\n\t\t\tembedded: false,\t\t\t\t\t\t\t// use iframe to embed webcam stream\r\n\t\t\trotation: 0,\r\n\t\t\tflip: 'none'\r\n\t\t}\r\n\t},\r\n\tmutations: {\r\n\t\tload(state, payload) {\r\n\t\t\tif (payload.language && i18n.locale != payload.language) {\r\n\t\t\t\ti18n.locale = payload.language;\r\n\t\t\t}\r\n\t\t\tpatch(state, payload, true);\r\n\t\t},\r\n\t\tsetLastHostname(state, hostname) {\r\n\t\t\tstate.lastHostname = hostname;\r\n\t\t\tsetLocalSetting('lastHostname', hostname);\r\n\t\t},\r\n\r\n\t\tupdate(state, payload) {\r\n\t\t\tif (payload.language) {\r\n\t\t\t\ti18n.locale = payload.language;\r\n\t\t\t}\r\n\t\t\tpatch(state, payload, true);\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tasync load({ rootState, rootGetters, commit, dispatch }) {\r\n\t\t\t// First attempt to load the last hostname from the local storage if the are running on localhost\r\n\t\t\tif (rootState.isLocal) {\r\n\t\t\t\tconst lastHostname = getLocalSetting('lastHostname');\r\n\t\t\t\tif (lastHostname) {\r\n\t\t\t\t\tcommit('load', { lastHostname });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Attempt to load the global settings from the local storage\r\n\t\t\tconst settings = getLocalSetting('settings');\r\n\t\t\tif (settings) {\r\n\t\t\t\tcommit('load', settings);\r\n\t\t\t} else if (rootGetters.isConnected) {\r\n\t\t\t\t// Otherwise try to load the settings from the selected board\r\n\t\t\t\tdispatch('machine/settings/load', undefined, { root: true });\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync save({ state, rootGetters, dispatch }) {\r\n\t\t\t// See if we need to save everything in the local storage\r\n\t\t\tif (state.settingsStorageLocal) {\r\n\t\t\t\tsetLocalSetting('settings', state);\r\n\t\t\t} else {\r\n\t\t\t\t// If not, remove the local settings again\r\n\t\t\t\tremoveLocalSetting('settings');\r\n\r\n\t\t\t\t// And try to save everything on the selected board\r\n\t\t\t\tif (rootGetters.isConnected) {\r\n\t\t\t\t\tdispatch('machine/settings/save', undefined, { root: true });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync reset({ rootState, dispatch }) {\r\n\t\t\t// Delete settings\r\n\t\t\tremoveLocalSetting('settings');\r\n\t\t\tremoveLocalSetting(`machines/${rootState.selectedMachine}`);\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('machine/delete', Path.dwcSettingsFile, { root: true });\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\r\n\t\t\t// Delete cache\r\n\t\t\tremoveLocalSetting(`cache/${rootState.selectedMachine}`);\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('machine/delete', Path.dwcCacheFile, { root: true });\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\r\n\t\t\t// Check if there is a factory defaults file\r\n\t\t\ttry {\r\n\t\t\t\tconst defaults = await dispatch('machine/download', { filename: Path.dwcFactoryDefaults, showProgress: false, showSuccess: false, showError: false }, { root: true });\r\n\t\t\t\tawait dispatch('machine/upload', { filename: Path.dwcSettingsFile, content: new Blob([defaults]), showProgress: false, showSuccess: false }, { root: true });\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// handled before we get here\r\n\t\t\t}\r\n\r\n\t\t\t// Reload the web interface to finish\r\n\t\t\tlocation.reload();\r\n\t\t}\r\n\t}\r\n}\r\n"]}]}